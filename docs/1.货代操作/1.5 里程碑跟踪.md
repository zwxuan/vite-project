# é‡Œç¨‹ç¢‘è·Ÿè¸ª (Milestone Tracking)

## ğŸ’¡ æ–°æ‰‹æç¤ºï¼šé‡Œç¨‹ç¢‘è·Ÿè¸ªæ ¸å¿ƒæ¦‚å¿µ

åœ¨å¼€å§‹é˜…è¯»é‡Œç¨‹ç¢‘è·Ÿè¸ªåŠŸèƒ½å‰ï¼Œè¯·å…ˆç†è§£ä»¥ä¸‹å…³é”®æ¦‚å¿µï¼š

- **é‡Œç¨‹ç¢‘**ï¼šè´§ç‰©è¿è¾“è¿‡ç¨‹ä¸­çš„å…³é”®èŠ‚ç‚¹ï¼Œå¦‚èµ·è¿ã€åˆ°æ¸¯ã€æ¸…å…³ã€äº¤ä»˜ç­‰
- **æ ‡å‡†æ¨¡æ¿**ï¼šæ ¹æ®ä¸åŒè¿è¾“æ–¹å¼é¢„è®¾çš„æ ‡å‡†é‡Œç¨‹ç¢‘èŠ‚ç‚¹å’Œæ—¶é—´è®¡åˆ’
- **å®æ—¶è·Ÿè¸ª**ï¼šé€šè¿‡ GPSã€æ‰¿è¿å•† API ç­‰æ–¹å¼è·å–è´§ç‰©å®æ—¶ä½ç½®å’ŒçŠ¶æ€
- **å¼‚å¸¸é¢„è­¦**ï¼šå½“å®é™…è¿›åº¦ä¸è®¡åˆ’åå·®è¶…è¿‡é˜ˆå€¼æ—¶è‡ªåŠ¨è§¦å‘é¢„è­¦æœºåˆ¶

## 5.1 åŠŸèƒ½æ¦‚è¿°

> **ğŸ’¡ æ–°æ‰‹æç¤º**ï¼šé‡Œç¨‹ç¢‘è·Ÿè¸ªæ˜¯è´§ä»£ä¸šåŠ¡çš„"GPS å¯¼èˆªç³»ç»Ÿ"
>
> å°±åƒå¼€è½¦æ—¶ä½¿ç”¨ GPS å¯¼èˆªä¸€æ ·ï¼Œé‡Œç¨‹ç¢‘è·Ÿè¸ªä¸ºè´§ç‰©è¿è¾“æä¾›å…¨ç¨‹çš„"è·¯çº¿æŒ‡å¼•"å’Œ"å®æ—¶å®šä½"ã€‚å®ƒä¸ä»…å‘Šè¯‰ä½ è´§ç‰©ç°åœ¨åœ¨å“ªé‡Œï¼Œè¿˜èƒ½é¢„æµ‹ä½•æ—¶åˆ°è¾¾ï¼Œé‡åˆ°"å µè½¦"ï¼ˆå»¶è¯¯ï¼‰æ—¶åŠæ—¶æé†’ï¼Œè®©å®¢æˆ·éšæ—¶æŒæ¡è´§ç‰©åŠ¨æ€ï¼Œå°±åƒè¿½è¸ªå¿«é€’åŒ…è£¹ä¸€æ ·ç®€å•ç›´è§‚ã€‚

è´§ä»£æ“ä½œè´Ÿè´£ç›‘æ§è´§ç‰©è¿è¾“å…¨ç¨‹çš„å…³é”®èŠ‚ç‚¹ï¼Œæä¾›å®æ—¶ä½ç½®ä¿¡æ¯å’ŒçŠ¶æ€æ›´æ–°ã€‚ç³»ç»Ÿæ”¯æŒå¤šç§è¿è¾“æ–¹å¼çš„æ ‡å‡†é‡Œç¨‹ç¢‘æ¨¡æ¿ï¼Œè‡ªåŠ¨æ¥æ”¶å¤–éƒ¨ç³»ç»Ÿçš„è·Ÿè¸ªæ•°æ®ï¼Œå¹¶å‘å®¢æˆ·æä¾›é€æ˜çš„è´§ç‰©çŠ¶æ€ä¿¡æ¯ã€‚

### ğŸ” ä¸šåŠ¡ä»·å€¼è¯´æ˜

- **å…¨ç¨‹å¯è§†**ï¼šæä¾›è´§ç‰©è¿è¾“å…¨ç¨‹çš„é€æ˜åŒ–è·Ÿè¸ªæœåŠ¡ï¼Œè®©å®¢æˆ·åƒè¿½è¸ªå¿«é€’ä¸€æ ·è½»æ¾æŒæ¡è´§ç‰©åŠ¨æ€
- **ä¸»åŠ¨é¢„è­¦**ï¼šæ™ºèƒ½è¯†åˆ«è¿è¾“å¼‚å¸¸ï¼Œæå‰é¢„è­¦å’Œå¤„ç†ï¼Œå˜è¢«åŠ¨åº”å¯¹ä¸ºä¸»åŠ¨ç®¡æ§
- **å®¢æˆ·ä½“éªŒ**ï¼šå®æ—¶çŠ¶æ€æ¨é€ï¼Œæå‡å®¢æˆ·æ»¡æ„åº¦ï¼Œå‡å°‘å®¢æˆ·è¯¢é—®å’ŒæŠ•è¯‰
- **æ•°æ®é©±åŠ¨**ï¼šç§¯ç´¯è¿è¾“æ•°æ®ï¼Œä¼˜åŒ–æœåŠ¡è´¨é‡å’Œæ—¶æ•ˆï¼Œä¸ºä¸šåŠ¡å†³ç­–æä¾›æ•°æ®æ”¯æ’‘
- **æˆæœ¬æ§åˆ¶**ï¼šé€šè¿‡ç²¾å‡†è·Ÿè¸ªå‡å°‘è´§ç‰©ä¸¢å¤±é£é™©ï¼Œé™ä½ç†èµ”æˆæœ¬å’Œè¿è¥é£é™©
- **ç«äº‰ä¼˜åŠ¿**ï¼šä¸“ä¸šçš„è·Ÿè¸ªæœåŠ¡æå‡ä¼ä¸šå½¢è±¡ï¼Œåœ¨åŒè´¨åŒ–ç«äº‰ä¸­è„±é¢–è€Œå‡º

## èœå•ç»“æ„

```
é‡Œç¨‹ç¢‘è·Ÿè¸ª
â”œâ”€â”€ è·Ÿè¸ªæ€»è§ˆ                    # è¿è¾“çŠ¶æ€æ€»è§ˆå’Œç»Ÿè®¡åˆ†æ
â”œâ”€â”€ é‡Œç¨‹ç¢‘é…ç½®                  # é‡Œç¨‹ç¢‘æ¨¡æ¿å’Œè§„åˆ™é…ç½®
â”œâ”€â”€ å®æ—¶è·Ÿè¸ª                    # è´§ç‰©å®æ—¶ä½ç½®å’ŒçŠ¶æ€ä¿¡æ¯
â”œâ”€â”€ å¼‚å¸¸é¢„è­¦                    # è¿è¾“å¼‚å¸¸ç›‘æ§å’Œé¢„è­¦ç®¡ç†
â”œâ”€â”€ å®¢æˆ·é€šçŸ¥                    # å®¢æˆ·é€šçŸ¥é…ç½®å’Œå‘é€ç®¡ç†
â”œâ”€â”€ è·Ÿè¸ªæŠ¥è¡¨                    # è·Ÿè¸ªæ•°æ®ç»Ÿè®¡å’Œåˆ†ææŠ¥å‘Š
â””â”€â”€ ç¬¬ä¸‰æ–¹æ¥å£ç®¡ç†              # å¤–éƒ¨è·Ÿè¸ªä¸å®¢æˆ·é—¨æˆ·æ¥å£é…ç½®
```

## é‡Œç¨‹ç¢‘è·Ÿè¸ªæ•°æ®æµè½¬å›¾

```mermaid
graph TB
    %% å¤–éƒ¨ç³»ç»Ÿ
    CarrierSystem[ğŸš¢ æ‰¿è¿å•†ç³»ç»Ÿ]
    
    %% è´§ä»£æ“ä½œç³»ç»Ÿ - ä¸Šæ¸¸æ¨¡å—
    subgraph FreightOpsUpstream[ğŸ“¦ è´§ä»£æ“ä½œç³»ç»Ÿ - ä¸Šæ¸¸æ¨¡å—]
        OrderMgmt[ğŸ“‹ è®¢å•ç®¡ç†]
        JobMgmt[ğŸ”§ ä½œä¸šç®¡ç†]
        WaybillMgmt[ğŸ“„ è¿å•ç®¡ç†]
        BookingMgmt[ğŸ›³ï¸ è®¢èˆ±ç®¡ç†]
        DocumentMgmt[ğŸ“‹ å•è¯ç®¡ç†]
    end
    
    %% è´§ä»£æ“ä½œç³»ç»Ÿ - é‡Œç¨‹ç¢‘è·Ÿè¸ª
    subgraph FreightOpsCore[ğŸ“¦ è´§ä»£æ“ä½œç³»ç»Ÿ - é‡Œç¨‹ç¢‘è·Ÿè¸ªæ¨¡å—]
        MilestoneTrigger[âš¡ é‡Œç¨‹ç¢‘è§¦å‘]
        TrackingChain[ğŸ”— è·Ÿè¸ªé“¾ç®¡ç†]
        MilestoneInstance[ğŸ“Š é‡Œç¨‹ç¢‘å®ä¾‹]
        StatusUpdate[ğŸ”„ çŠ¶æ€æ›´æ–°]
        ExceptionDetection[ğŸš¨ å¼‚å¸¸æ£€æµ‹]
    end
    
    %% è´§ä»£æ“ä½œç³»ç»Ÿ - ä¸‹æ¸¸æ¨¡å—
    subgraph FreightOpsDownstream[ğŸ“¦ è´§ä»£æ“ä½œç³»ç»Ÿ - ä¸‹æ¸¸æ¨¡å—]
        ExceptionMgmt[âš ï¸ å¼‚å¸¸ç®¡ç†]
    end
    
    %% é‡Œç¨‹ç¢‘åˆ›å»ºæµç¨‹æ•°æ®æµ
    OrderMgmt -.->|è®¢å•äº‹ä»¶| MilestoneTrigger
    JobMgmt -.->|ä½œä¸šäº‹ä»¶| MilestoneTrigger
    WaybillMgmt -.->|è¿å•äº‹ä»¶| MilestoneTrigger
    BookingMgmt -.->|è®¢èˆ±äº‹ä»¶| MilestoneTrigger
    DocumentMgmt -.->|å•è¯äº‹ä»¶| MilestoneTrigger
    
    MilestoneTrigger -->|åˆ›å»ºè·Ÿè¸ªé“¾| TrackingChain
    TrackingChain -->|å®ä¾‹åŒ–é‡Œç¨‹ç¢‘| MilestoneInstance
    
    %% çŠ¶æ€æ›´æ–°æµç¨‹æ•°æ®æµ
    CarrierSystem -.->|çŠ¶æ€æ¨é€| StatusUpdate
    StatusUpdate -->|æ›´æ–°é‡Œç¨‹ç¢‘| MilestoneInstance
    
    %% å¼‚å¸¸ç›‘æ§æµç¨‹æ•°æ®æµ
    MilestoneInstance ==>|ç›‘æ§æ•°æ®| ExceptionDetection
    ExceptionDetection -->|å¼‚å¸¸è§¦å‘| ExceptionMgmt
    ExceptionMgmt -.->|å¤„ç†åé¦ˆ| MilestoneInstance
    
    %% æ ·å¼å®šä¹‰
    classDef external fill:#e3f2fd,stroke:#1976d2,stroke-width:2px,color:#000
    classDef upstream fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px,color:#000
    classDef core fill:#fff3e0,stroke:#f57c00,stroke-width:3px,color:#000
    classDef downstream fill:#e8f5e8,stroke:#388e3c,stroke-width:2px,color:#000
    
    class CarrierSystem external
    class FreightOpsUpstream,OrderMgmt,JobMgmt,WaybillMgmt,BookingMgmt,DocumentMgmt upstream
    class FreightOpsCore,MilestoneTrigger,TrackingChain,MilestoneInstance,StatusUpdate,ExceptionDetection core
    class FreightOpsDownstream,ExceptionMgmt downstream
```

## é¡µé¢åŸå‹è®¾è®¡

### è·Ÿè¸ªæ€»è§ˆé¡µé¢

```
+----------------------------------------------------------+
|  é‡Œç¨‹ç¢‘è·Ÿè¸ª > è·Ÿè¸ªæ€»è§ˆ                        [æ–°å»ºè·Ÿè¸ª] [å¯¼å‡º] |
+----------------------------------------------------------+
| æœç´¢æ¡ä»¶ï¼š                                                  |
| è¿å•å·ï¼š[________] å®¢æˆ·ï¼š[________] çŠ¶æ€ï¼š[ä¸‹æ‹‰é€‰æ‹©]          |
| æ—¶é—´èŒƒå›´ï¼š[å¼€å§‹æ—¥æœŸ] è‡³ [ç»“æŸæ—¥æœŸ]              [æœç´¢] [é‡ç½®] |
+----------------------------------------------------------+
| è¿å•å·     | å®¢æˆ·åç§° | è·¯çº¿     | å½“å‰çŠ¶æ€ | è¿›åº¦ | æ“ä½œ     |
|-----------|---------|---------|---------|------|---------|
| WAY-001   | ABCå…¬å¸  | ä¸Šæµ·-LA  | å·²èµ·è¿   | 60%  | [è¯¦æƒ…][è·Ÿè¸ª] |
| WAY-002   | XYZå…¬å¸  | æ·±åœ³-NY  | è®¢èˆ±ç¡®è®¤ | 20%  | [è¯¦æƒ…][è·Ÿè¸ª] |
+----------------------------------------------------------+
| ç»Ÿè®¡ä¿¡æ¯ï¼š                                                  |
| æ€»è¿å•æ•°ï¼š156 | åœ¨é€”ï¼š89 | å·²åˆ°æ¸¯ï¼š45 | å¼‚å¸¸ï¼š12 | å·²äº¤ä»˜ï¼š10 |
+----------------------------------------------------------+
```

### å®æ—¶è·Ÿè¸ªè¯¦æƒ…é¡µé¢

```
+----------------------------------------------------------+
|  é‡Œç¨‹ç¢‘è·Ÿè¸ª > è·Ÿè¸ªè¯¦æƒ… - WAY-20240315-001      [è¿”å›] [å¯¼å‡º] |
+----------------------------------------------------------+
| åŸºæœ¬ä¿¡æ¯ï¼š                                                  |
| è¿å•å·ï¼šWAY-20240315-001 | å®¢æˆ·ï¼šABCè´¸æ˜“å…¬å¸                |
| è·¯çº¿ï¼šä¸Šæµ·æ¸¯ â†’ æ´›æ‰çŸ¶æ¸¯   | æ‰¿è¿å•†ï¼šCOSCO                   |
| é¢„è®¡ETDï¼š2024-03-20      | é¢„è®¡ETAï¼š2024-04-15             |
+----------------------------------------------------------+
| é‡Œç¨‹ç¢‘è¿›åº¦ï¼š                                                |
| â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—â”€â”€â”€â”€â—‹â”€â”€â”€â”€â—‹â”€â”€â”€â”€â—‹â”€â”€â”€â”€â—‹                         |
| è®¢èˆ±   è£…ç®±   èµ·è¿   åœ¨é€”   åˆ°æ¸¯   æ¸…å…³   äº¤ä»˜              |
| ç¡®è®¤   å®Œæˆ   å®Œæˆ   å®Œæˆ   è¿›è¡Œä¸­  å¾…å®š   å¾…å®š   å¾…å®š              |
+----------------------------------------------------------+
| è¯¦ç»†è·Ÿè¸ªè®°å½•ï¼š                                              |
| æ—¶é—´      | é‡Œç¨‹ç¢‘   | çŠ¶æ€   | ä½ç½®/å¤‡æ³¨        | æ“ä½œ     |
|-----------|---------|-------|-----------------|---------|
| 03-15 10:00| è®¢èˆ±ç¡®è®¤ | å·²å®Œæˆ | ä¸Šæµ·æ¸¯          | [è¯¦æƒ…]   |
| 03-16 14:30| è£…ç®±å®Œæˆ | å·²å®Œæˆ | ä¸Šæµ·æ¸¯ç å¤´       | [è¯¦æƒ…]   |
| 03-20 08:15| è´§ç‰©èµ·è¿ | å·²å®Œæˆ | COSCO SHANGHAI  | [è¯¦æƒ…]   |
| 03-22 16:00| åœ¨é€”æ›´æ–° | è¿›è¡Œä¸­ | å¤ªå¹³æ´‹èˆªçº¿       | [æ›´æ–°]   |
+----------------------------------------------------------+
| æ“ä½œæŒ‰é’®ï¼š[æ‰‹åŠ¨æ›´æ–°] [å‘é€é€šçŸ¥] [å¯¼å‡ºè®°å½•] [è¿”å›åˆ—è¡¨]         |
+----------------------------------------------------------+
```

### é‡Œç¨‹ç¢‘é…ç½®é¡µé¢

```
+----------------------------------------------------------+
|  é‡Œç¨‹ç¢‘è·Ÿè¸ª > é‡Œç¨‹ç¢‘é…ç½®                      [æ–°å¢é…ç½®] [å¯¼å…¥] |
+----------------------------------------------------------+
| é…ç½®ç­›é€‰ï¼š                                                  |
| è¿è¾“æ–¹å¼ï¼š[æµ·è¿ â–¼] è·¯çº¿ç±»å‹ï¼š[å…¨éƒ¨ â–¼]          [æœç´¢] [é‡ç½®] |
+----------------------------------------------------------+
| é‡Œç¨‹ç¢‘åç§°   | è§¦å‘æ¡ä»¶ | é€šçŸ¥è®¾ç½® | çŠ¶æ€ | æ“ä½œ           |
|-------------|---------|---------|------|---------------|
| è®¢èˆ±ç¡®è®¤     | è‡ªåŠ¨è§¦å‘ | å®¢æˆ·+å†…éƒ¨| å¯ç”¨ | [ç¼–è¾‘][å¤åˆ¶][åœç”¨] |
| è£…ç®±å®Œæˆ     | æ‰‹åŠ¨å½•å…¥ | å†…éƒ¨     | å¯ç”¨ | [ç¼–è¾‘][å¤åˆ¶][åœç”¨] |
| è´§ç‰©èµ·è¿     | EDIæ¥æ”¶  | å®¢æˆ·+å†…éƒ¨| å¯ç”¨ | [ç¼–è¾‘][å¤åˆ¶][åœç”¨] |
| åˆ°æ¸¯é€šçŸ¥     | è‡ªåŠ¨è®¡ç®— | å®¢æˆ·     | å¯ç”¨ | [ç¼–è¾‘][å¤åˆ¶][åœç”¨] |
+----------------------------------------------------------+
| é…ç½®è¯¦æƒ…ï¼š                                                  |
| é‡Œç¨‹ç¢‘åç§°ï¼š[è®¢èˆ±ç¡®è®¤_______________] æ˜¾ç¤ºé¡ºåºï¼š[1____]      |
| è§¦å‘æ–¹å¼ï¼š(*) è‡ªåŠ¨è§¦å‘ ( ) æ‰‹åŠ¨å½•å…¥ ( ) EDIæ¥æ”¶ ( ) APIæ¨é€  |
| é€šçŸ¥è®¾ç½®ï¼š[âˆš] å®¢æˆ·é€šçŸ¥ [âˆš] å†…éƒ¨é€šçŸ¥ [ ] ä¾›åº”å•†é€šçŸ¥          |
| é¢„è­¦è®¾ç½®ï¼šå»¶è¿Ÿé˜ˆå€¼ [2___] å°æ—¶ [âˆš] å¯ç”¨é¢„è­¦                |
|                                           [ä¿å­˜] [é‡ç½®] [åˆ é™¤] |
+----------------------------------------------------------+
```

### å¼‚å¸¸é¢„è­¦é¡µé¢

```
+----------------------------------------------------------+
|  é‡Œç¨‹ç¢‘è·Ÿè¸ª > å¼‚å¸¸é¢„è­¦                        [é¢„è­¦è®¾ç½®] [å¯¼å‡º] |
+----------------------------------------------------------+
| é¢„è­¦ç»Ÿè®¡ï¼š                                                  |
| ä»Šæ—¥é¢„è­¦ï¼š23 | å¾…å¤„ç†ï¼š12 | å·²å¤„ç†ï¼š11 | é¢„è­¦ç‡ï¼š15.3%      |
+----------------------------------------------------------+
| ç­›é€‰æ¡ä»¶ï¼š                                                  |
| é¢„è­¦ç±»å‹ï¼š[å…¨éƒ¨ â–¼] ä¸¥é‡ç¨‹åº¦ï¼š[å…¨éƒ¨ â–¼] çŠ¶æ€ï¼š[å¾…å¤„ç† â–¼]      |
| æ—¶é—´èŒƒå›´ï¼š[ä»Šå¤© â–¼]                          [æœç´¢] [é‡ç½®]   |
+----------------------------------------------------------+
| è¿å•å·     | é¢„è­¦ç±»å‹ | ä¸¥é‡ç¨‹åº¦ | é¢„è­¦æ—¶é—´ | çŠ¶æ€ | æ“ä½œ     |
|-----------|---------|---------|---------|------|---------|
| WAY-001   | å»¶è¿Ÿé¢„è­¦ | é«˜       | 10:30   | å¾…å¤„ç†| [å¤„ç†]   |
| WAY-002   | å¼‚å¸¸çŠ¶æ€ | ä¸­       | 09:15   | å¾…å¤„ç†| [æŸ¥çœ‹]   |
| WAY-003   | å•è¯ç¼ºå¤± | é«˜       | 08:45   | å¾…å¤„ç†| [å¤„ç†]   |
+----------------------------------------------------------+
| æ‰¹é‡æ“ä½œï¼š[æ‰¹é‡å¤„ç†] [æ‰¹é‡å¿½ç•¥] [å¯¼å‡ºæŠ¥è¡¨]                    |
+----------------------------------------------------------+
```

### å®¢æˆ·é€šçŸ¥é¡µé¢

```
+----------------------------------------------------------+
|  é‡Œç¨‹ç¢‘è·Ÿè¸ª > å®¢æˆ·é€šçŸ¥                        [æ¨¡æ¿ç®¡ç†] [å‘é€] |
+----------------------------------------------------------+
| é€šçŸ¥æ¨¡æ¿ï¼š                                                  |
| æ¨¡æ¿ç±»å‹ï¼š[é‡Œç¨‹ç¢‘æ›´æ–° â–¼] é€šçŸ¥æ–¹å¼ï¼š[âˆš]é‚®ä»¶ [âˆš]çŸ­ä¿¡ [âˆš]å¾®ä¿¡   |
| å®¢æˆ·ç¾¤ç»„ï¼š[VIPå®¢æˆ· â–¼]                   [é¢„è§ˆ] [ç¼–è¾‘] [æµ‹è¯•] |
+----------------------------------------------------------+
| å‘é€è®°å½•ï¼š                                                  |
| å‘é€æ—¶é—´  | å®¢æˆ·   | è¿å•å·  | é€šçŸ¥ç±»å‹ | å‘é€æ–¹å¼ | çŠ¶æ€     |
|-----------|-------|--------|---------|---------|---------|
| 10:30     | å®¢æˆ·A  | WAY-001| èµ·è¿é€šçŸ¥ | é‚®ä»¶     | å·²å‘é€   |
| 09:15     | å®¢æˆ·B  | WAY-002| åˆ°æ¸¯é€šçŸ¥ | çŸ­ä¿¡     | å·²å‘é€   |
| 08:45     | å®¢æˆ·C  | WAY-003| å»¶è¿Ÿé€šçŸ¥ | å¾®ä¿¡     | å‘é€ä¸­   |
+----------------------------------------------------------+
| å³æ—¶å‘é€ï¼š                                                  |
| é€‰æ‹©å®¢æˆ·ï¼š[ä¸‹æ‹‰é€‰æ‹©___] é€‰æ‹©è¿å•ï¼š[ä¸‹æ‹‰é€‰æ‹©___]              |
| é€šçŸ¥å†…å®¹ï¼š[_________________________________]              |
| å‘é€æ–¹å¼ï¼š[âˆš]é‚®ä»¶ [âˆš]çŸ­ä¿¡ [ ]å¾®ä¿¡           [ç«‹å³å‘é€]      |
+----------------------------------------------------------+
```

### è·Ÿè¸ªæŠ¥è¡¨é¡µé¢

```
+----------------------------------------------------------+
|  é‡Œç¨‹ç¢‘è·Ÿè¸ª > è·Ÿè¸ªæŠ¥è¡¨                        [è‡ªå®šä¹‰æŠ¥è¡¨] [å¯¼å‡º] |
+----------------------------------------------------------+
| æŠ¥è¡¨ç­›é€‰ï¼š                                                  |
| æŠ¥è¡¨ç±»å‹ï¼š[è¿è¾“æ—¶æ•ˆåˆ†æ â–¼] æ—¶é—´èŒƒå›´ï¼š[æœ¬æœˆ â–¼]               |
| ç­›é€‰æ¡ä»¶ï¼šå®¢æˆ·ï¼š[å…¨éƒ¨ â–¼] è·¯çº¿ï¼š[å…¨éƒ¨ â–¼]     [ç”Ÿæˆ] [é‡ç½®]   |
+----------------------------------------------------------+
| å…³é”®æŒ‡æ ‡ï¼š                                                  |
| +----------------+----------------+----------------+       |
| | å¹³å‡è¿è¾“æ—¶é—´    | å‡†æ—¶ç‡         | å¼‚å¸¸ç‡         |       |
| | 18.5å¤©         | 92.3%          | 7.7%           |       |
| +----------------+----------------+----------------+       |
| | å®¢æˆ·æ»¡æ„åº¦      | é‡Œç¨‹ç¢‘å®Œæˆç‡   | é¢„è­¦å¤„ç†ç‡     |       |
| | 4.2/5.0        | 95.8%          | 88.5%          |       |
| +----------------+----------------+----------------+       |
+----------------------------------------------------------+
| å›¾è¡¨åˆ†æï¼š                                                  |
| [æ—¶æ•ˆè¶‹åŠ¿å›¾ - æŠ˜çº¿å›¾æ˜¾ç¤ºæ¯æ—¥è¿è¾“æ—¶æ•ˆå˜åŒ–]                    |
| [å¼‚å¸¸åˆ†å¸ƒå›¾ - é¥¼å›¾æ˜¾ç¤ºå„ç±»å¼‚å¸¸çš„åˆ†å¸ƒæ¯”ä¾‹]                    |
+----------------------------------------------------------+
| è¯¦ç»†æ•°æ®ï¼š                                                  |
| è·¯çº¿       | è¿å•æ•°é‡ | å¹³å‡æ—¶æ•ˆ | å‡†æ—¶ç‡ | å¼‚å¸¸ç‡ | æ»¡æ„åº¦   |
|-----------|---------|---------|-------|-------|---------|
| ä¸Šæµ·-æ´›æ‰çŸ¶ | 45      | 18å¤©    | 95%   | 5%    | 4.5/5.0 |
| æ·±åœ³-çº½çº¦   | 32      | 19å¤©    | 90%   | 10%   | 4.2/5.0 |
| é’å²›-æ±‰å ¡   | 28      | 22å¤©    | 88%   | 12%   | 4.0/5.0 |
+----------------------------------------------------------+
```

### ç¬¬ä¸‰æ–¹æ¥å£ç®¡ç†é¡µé¢

```
+----------------------------------------------------------+
|  é‡Œç¨‹ç¢‘è·Ÿè¸ª > æ¥å£ç®¡ç†                        [æ–°å¢æ¥å£] [æµ‹è¯•] |
+----------------------------------------------------------+
| æ¥å£é…ç½®ï¼š                                                  |
| æ¥å£åç§°    | æ¥å£ç±»å‹ | çŠ¶æ€   | æœ€ååŒæ­¥ | æ“ä½œ           |
|------------|---------|-------|---------|---------------|
| COSCO API  | èˆ¹å…¬å¸   | æ­£å¸¸   | 10:30   | [é…ç½®][æµ‹è¯•][æ—¥å¿—] |
| MSK API    | èˆ¹å…¬å¸   | å¼‚å¸¸   | 09:15   | [ä¿®å¤][æµ‹è¯•][æ—¥å¿—] |
| æµ·å…³EDI    | æ”¿åºœæœºæ„ | æ­£å¸¸   | 10:00   | [é…ç½®][æµ‹è¯•][æ—¥å¿—] |
| æ¸¯å£ç³»ç»Ÿ    | æ¸¯å£     | ç»´æŠ¤ä¸­ | æ˜¨å¤©    | [é…ç½®][æµ‹è¯•][æ—¥å¿—] |
+----------------------------------------------------------+
| åŒæ­¥æ—¥å¿—ï¼š                                                  |
| åŒæ­¥æ—¶é—´  | æ¥å£åç§°   | åŒæ­¥ç»“æœ | è¯¦ç»†ä¿¡æ¯           | æ“ä½œ   |
|-----------|-----------|---------|-------------------|-------|
| 10:30     | COSCO API | æˆåŠŸ     | åŒæ­¥50æ¡è·Ÿè¸ªä¿¡æ¯   | [è¯¦æƒ…] |
| 10:15     | MSK API   | å¤±è´¥     | è¿æ¥è¶…æ—¶          | [é‡è¯•] |
| 10:00     | æµ·å…³EDI   | æˆåŠŸ     | åŒæ­¥25æ¡æ¸…å…³ä¿¡æ¯   | [è¯¦æƒ…] |
+----------------------------------------------------------+
| æ¥å£è¯¦æƒ…é…ç½®ï¼š                                              |
| æ¥å£åç§°ï¼š[COSCO API_______________]                       |
| æ¥å£åœ°å€ï¼š[https://api.cosco.com/tracking_______________]   |
| è®¤è¯æ–¹å¼ï¼š(*) API Key ( ) OAuth2 ( ) Basic Auth           |
| åŒæ­¥é¢‘ç‡ï¼š[15___] åˆ†é’Ÿ [âˆš] å¯ç”¨è‡ªåŠ¨åŒæ­¥                    |
|                                           [ä¿å­˜] [æµ‹è¯•] [å–æ¶ˆ] |
+----------------------------------------------------------+
```

## ä¸šåŠ¡æµç¨‹

### ğŸ’¡ æ–°æ‰‹æç¤ºï¼šé‡Œç¨‹ç¢‘è·Ÿè¸ªä¸šåŠ¡æµç¨‹é˜…è¯»æŒ‡å—

ä»¥ä¸‹ä¸šåŠ¡æµç¨‹æè¿°äº†é‡Œç¨‹ç¢‘è·Ÿè¸ªä»åˆ›å»ºåˆ°å®Œæˆçš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸã€‚æ¯ä¸ªæ­¥éª¤éƒ½åŒ…å«ï¼š

*   **ä¸šåŠ¡åŠ¨ä½œ**ï¼šå…·ä½“è¦æ‰§è¡Œçš„æ“ä½œ
*   **ç³»ç»Ÿäº¤äº’**ï¼šæ¶‰åŠçš„ç³»ç»Ÿé—´è°ƒç”¨å’Œæ•°æ®ä¼ é€’
*   **å†³ç­–ç‚¹**ï¼šéœ€è¦äººå·¥åˆ¤æ–­æˆ–ç³»ç»Ÿè‡ªåŠ¨åˆ¤æ–­çš„å…³é”®èŠ‚ç‚¹
*   **å¼‚å¸¸å¤„ç†**ï¼šå¯èƒ½å‡ºç°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### ğŸ“‹ é‡Œç¨‹ç¢‘åˆ›å»ºæµç¨‹

1.  **è§¦å‘æ¡ä»¶è¯†åˆ«**ï¼šç³»ç»Ÿæ£€æµ‹åˆ°è´§ä»£æ“ä½œå„æ¨¡å—çš„å…³é”®çŠ¶æ€å˜æ›´
    > **æ–°æ‰‹è¯´æ˜**ï¼šè¿™æ˜¯é‡Œç¨‹ç¢‘è·Ÿè¸ªçš„èµ·ç‚¹ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«éœ€è¦åˆ›å»ºè·Ÿè¸ªé“¾çš„ä¸šåŠ¡åœºæ™¯ï¼ŒåŒ…æ‹¬è®¢å•åˆ›å»ºã€ä½œä¸šåˆ›å»ºã€è¿å•ç”Ÿæˆã€è®¢èˆ±ç¡®è®¤ã€å•è¯åˆ¶ä½œç­‰å…³é”®èŠ‚ç‚¹
    *   **ğŸ”— ç³»ç»Ÿå†…è§¦å‘**ï¼šè´§ä»£æ“ä½œï¼ˆå„ä¸šåŠ¡æ¨¡å—ï¼‰ â†’ è´§ä»£æ“ä½œï¼ˆé‡Œç¨‹ç¢‘è·Ÿè¸ªï¼‰ **ã€å†™å…¥æ•°æ®ã€‘**
        *   **è°ƒç”¨æ–¹å¼**ï¼šRESTful API (POST /api/milestone/trigger)
        *   **è°ƒç”¨æ—¶æœº**ï¼šè®¢å•åˆ›å»º/ç¡®è®¤ã€ä½œä¸šåˆ›å»ºã€è¿å•ç”Ÿæˆ/ç¡®è®¤ã€è®¢èˆ±ç¡®è®¤ã€å•è¯åˆ¶ä½œ/å®¡æ ¸ç­‰å…³é”®çŠ¶æ€å˜æ›´åç«‹å³è§¦å‘
        *   **æ•°æ®æ“ä½œ**ï¼š
            *   **æ•°æ®è¯»å–**ï¼šä»è´§ä»£æ“ä½œçš„å„ä¸šåŠ¡æ¨¡å—è¡¨ï¼ˆordersã€jobsã€waybillsã€bookingsã€documentsç­‰ï¼‰è¯»å–ç›¸å…³ä¸šåŠ¡ä¿¡æ¯
            *   **æ•°æ®å†™å…¥**ï¼šå‘è´§ä»£æ“ä½œçš„ milestone_triggers (é‡Œç¨‹ç¢‘è§¦å‘è¡¨) è¡¨å†™å…¥è§¦å‘è®°å½•
            *   **æ•°æ®åˆ›å»º**ï¼šåœ¨è´§ä»£æ“ä½œçš„ tracking_chains (è·Ÿè¸ªé“¾è¡¨) è¡¨ä¸­åˆ›å»ºè·Ÿè¸ªé“¾åŸºç¡€ä¿¡æ¯
        *   **å…¥å‚**ï¼š`{waybill_number, transport_mode, route_info, service_level}`
            *   `waybill_number` (è¿å•å·): stringï¼Œè¿å•çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œç”¨äºå…³è”åç»­æ‰€æœ‰è·Ÿè¸ªä¿¡æ¯
            *   `transport_mode` (è¿è¾“æ–¹å¼): enum (æµ·è¿/ç©ºè¿/é™†è¿/å¤šå¼è”è¿)ï¼Œå†³å®šé‡Œç¨‹ç¢‘æ¨¡æ¿é€‰æ‹©
            *   `route_info` (è·¯çº¿ä¿¡æ¯): objectï¼Œèµ·å§‹åœ°ã€ç›®çš„åœ°ã€ä¸­è½¬ç‚¹ç­‰è·¯çº¿è¯¦ç»†ä¿¡æ¯
            *   `service_level` (æœåŠ¡ç­‰çº§): enum (æ ‡å‡†/åŠ æ€¥/ç‰¹æ®Š)ï¼Œå½±å“é‡Œç¨‹ç¢‘æ—¶é—´è®¾ç½®å’Œç›‘æ§é¢‘ç‡
        *   **å‡ºå‚**ï¼š`{trigger_id, tracking_chain_id, template_selection}`
            *   `trigger_id` (è§¦å‘ID): stringï¼Œæœ¬æ¬¡è§¦å‘çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œç”¨äºåç»­æµç¨‹è¿½è¸ª
            *   `tracking_chain_id` (è·Ÿè¸ªé“¾ID): stringï¼Œåˆ›å»ºçš„è·Ÿè¸ªé“¾å”¯ä¸€æ ‡è¯†ç¬¦
            *   `template_selection` (æ¨¡æ¿é€‰æ‹©): objectï¼Œé€‰ä¸­çš„é‡Œç¨‹ç¢‘æ¨¡æ¿ä¿¡æ¯å’Œé€‚ç”¨æ¡ä»¶

2.  **é‡Œç¨‹ç¢‘æ¨¡æ¿åŒ¹é…**ï¼šç³»ç»Ÿæ ¹æ®è¿è¾“æ–¹å¼ã€è·¯çº¿ç‰¹å¾è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„é‡Œç¨‹ç¢‘æ¨¡æ¿
    > **æ–°æ‰‹è¯´æ˜**ï¼šä¸åŒçš„è¿è¾“æ–¹å¼å’Œè·¯çº¿æœ‰ä¸åŒçš„æ ‡å‡†æµç¨‹ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åŒ¹é…æœ€åˆé€‚çš„æ¨¡æ¿
    *   **ğŸ”— è·¨ç³»ç»Ÿè§¦å‘**ï¼šè´§ä»£æ“ä½œ(é‡Œç¨‹ç¢‘è·Ÿè¸ª) â†’ ä¸»æ•°æ®ä¸ç³»ç»Ÿé…ç½® **ã€æŸ¥è¯¢æ•°æ®ã€‘**
        *   **è°ƒç”¨æ–¹å¼**ï¼šRESTful API (GET /api/templates/milestone-match)
        *   **è°ƒç”¨æ—¶æœº**ï¼šè§¦å‘æ¡ä»¶è¯†åˆ«å®Œæˆåç«‹å³æ‰§è¡Œ
        *   **æ•°æ®æ“ä½œ**ï¼š
            *   **æ•°æ®è¯»å–**ï¼šä»ä¸»æ•°æ®ä¸ç³»ç»Ÿé…ç½®çš„ milestone_templates (é‡Œç¨‹ç¢‘æ¨¡æ¿è¡¨) è¡¨ã€template_rules (æ¨¡æ¿è§„åˆ™è¡¨) è¡¨è¯»å–æ¨¡æ¿å’ŒåŒ¹é…è§„åˆ™
            *   **æ•°æ®å†™å…¥**ï¼šå‘è´§ä»£æ“ä½œçš„ template_usage_logs (æ¨¡æ¿ä½¿ç”¨æ—¥å¿—è¡¨) è¡¨å†™å…¥ä½¿ç”¨è®°å½•
            *   **æ•°æ®æ›´æ–°**ï¼šæ›´æ–°ä¸»æ•°æ®ä¸ç³»ç»Ÿé…ç½®çš„ template_statistics (æ¨¡æ¿ç»Ÿè®¡è¡¨) è¡¨ä¸­çš„ä½¿ç”¨ç»Ÿè®¡
        *   **å…¥å‚**ï¼š`{transport_mode, route_characteristics, cargo_type, service_requirements}`
            *   `transport_mode` (è¿è¾“æ–¹å¼): enumï¼Œè¿è¾“æ–¹å¼ç±»å‹ï¼Œç”¨äºåˆæ­¥ç­›é€‰æ¨¡æ¿
            *   `route_characteristics` (è·¯çº¿ç‰¹å¾): objectï¼Œå›½å†…/å›½é™…ã€ç›´è¾¾/ä¸­è½¬ç­‰è·¯çº¿ç‰¹å¾
            *   `cargo_type` (è´§ç‰©ç±»å‹): enum (æ™®è´§/å±é™©å“/å†·é“¾/è¶…é™)ï¼Œå½±å“ç‰¹æ®Šé‡Œç¨‹ç¢‘è®¾ç½®
            *   `service_requirements` (æœåŠ¡è¦æ±‚): objectï¼Œå®¢æˆ·ç‰¹æ®Šè¦æ±‚å’ŒæœåŠ¡æ ‡å‡†
        *   **å‡ºå‚**ï¼š`{selected_template, milestone_nodes, estimated_timeline}`
            *   `selected_template` (é€‰ä¸­æ¨¡æ¿): objectï¼ŒåŒ¹é…çš„é‡Œç¨‹ç¢‘æ¨¡æ¿è¯¦ç»†ä¿¡æ¯
            *   `milestone_nodes` (é‡Œç¨‹ç¢‘èŠ‚ç‚¹): arrayï¼Œæ¨¡æ¿åŒ…å«çš„æ‰€æœ‰é‡Œç¨‹ç¢‘èŠ‚ç‚¹å®šä¹‰
            *   `estimated_timeline` (é¢„ä¼°æ—¶é—´çº¿): objectï¼ŒåŸºäºæ¨¡æ¿çš„é¢„è®¡å®Œæˆæ—¶é—´å®‰æ’

3.  **é‡Œç¨‹ç¢‘å®ä¾‹åˆ›å»º**ï¼šåŸºäºé€‰å®šæ¨¡æ¿åˆ›å»ºå…·ä½“çš„é‡Œç¨‹ç¢‘å®ä¾‹
    > **æ–°æ‰‹è¯´æ˜**ï¼šå°†é€šç”¨æ¨¡æ¿è½¬æ¢ä¸ºå…·ä½“çš„è·Ÿè¸ªèŠ‚ç‚¹ï¼Œè®¾ç½®å®é™…çš„æ—¶é—´è®¡åˆ’å’Œç›‘æ§è§„åˆ™
    *   **ç³»ç»Ÿå†…æµè½¬**ï¼šé‡Œç¨‹ç¢‘å®ä¾‹åŒ–å¤„ç†
        *   **è°ƒç”¨æ–¹å¼**ï¼šå†…éƒ¨å‡½æ•°è°ƒç”¨
        *   **è°ƒç”¨æ—¶æœº**ï¼šæ¨¡æ¿åŒ¹é…å®Œæˆåç«‹å³æ‰§è¡Œ
        *   **æ•°æ®æ“ä½œ**ï¼š
            *   **æ•°æ®å†™å…¥**ï¼šå‘è´§ä»£æ“ä½œçš„ milestone_instances (é‡Œç¨‹ç¢‘å®ä¾‹è¡¨) è¡¨æ‰¹é‡å†™å…¥é‡Œç¨‹ç¢‘å®ä¾‹
            *   **æ•°æ®åˆ›å»º**ï¼šåœ¨è´§ä»£æ“ä½œçš„ milestone_schedules (é‡Œç¨‹ç¢‘è®¡åˆ’è¡¨) è¡¨ä¸­åˆ›å»ºæ—¶é—´è®¡åˆ’
            *   **æ•°æ®å…³è”**ï¼šåœ¨è´§ä»£æ“ä½œçš„ milestone_dependencies (é‡Œç¨‹ç¢‘ä¾èµ–è¡¨) è¡¨ä¸­å»ºç«‹èŠ‚ç‚¹ä¾èµ–å…³ç³»
        *   **ä¸šåŠ¡é€»è¾‘**ï¼šæ ¹æ®å†å²æ•°æ®å’Œå¤–éƒ¨å› ç´ è®¡ç®—é¢„è®¡æ—¶é—´ï¼Œè®¾ç½®ç›‘æ§è§„åˆ™å’Œé¢„è­¦é˜ˆå€¼
        *   **å…¥å‚**ï¼š`{template_info, waybill_details, historical_data}`
            *   `template_info` (æ¨¡æ¿ä¿¡æ¯): objectï¼Œé€‰ä¸­çš„æ¨¡æ¿è¯¦ç»†é…ç½®å’ŒèŠ‚ç‚¹å®šä¹‰
            *   `waybill_details` (è¿å•è¯¦æƒ…): objectï¼Œè¿å•çš„è¯¦ç»†ä¿¡æ¯ï¼Œç”¨äºä¸ªæ€§åŒ–è®¾ç½®
            *   `historical_data` (å†å²æ•°æ®): objectï¼Œç›¸ä¼¼è·¯çº¿çš„å†å²æ€§èƒ½æ•°æ®ï¼Œç”¨äºæ—¶é—´é¢„ä¼°
        *   **å‡ºå‚**ï¼š`{milestone_instances, schedule_plan, monitoring_config}`
            *   `milestone_instances` (é‡Œç¨‹ç¢‘å®ä¾‹): arrayï¼Œåˆ›å»ºçš„æ‰€æœ‰é‡Œç¨‹ç¢‘å®ä¾‹è¯¦æƒ…
            *   `schedule_plan` (è®¡åˆ’å®‰æ’): objectï¼Œæ¯ä¸ªé‡Œç¨‹ç¢‘çš„é¢„è®¡æ—¶é—´å’Œå…³é”®æ£€æŸ¥ç‚¹
            *   `monitoring_config` (ç›‘æ§é…ç½®): objectï¼Œè‡ªåŠ¨ç›‘æ§è§„åˆ™å’Œé¢„è­¦è®¾ç½®

4.  **è·Ÿè¸ªæ¥å£é…ç½®**ï¼šé…ç½®ä¸æ‰¿è¿å•†ã€GPSç­‰å¤–éƒ¨ç³»ç»Ÿçš„æ•°æ®åŒæ­¥æ¥å£
    > **æ–°æ‰‹è¯´æ˜**ï¼šå»ºç«‹ä¸å¤–éƒ¨ç³»ç»Ÿçš„è¿æ¥ï¼Œç¡®ä¿èƒ½å¤Ÿè‡ªåŠ¨è·å–æœ€æ–°çš„è¿è¾“çŠ¶æ€ä¿¡æ¯
    *   **ğŸ”— è·¨ç³»ç»Ÿè§¦å‘**ï¼šè´§ä»£æ“ä½œï¼ˆé‡Œç¨‹ç¢‘è·Ÿè¸ªï¼‰ â†’ é›†æˆä¸è¿æ¥ **ã€é…ç½®æ•°æ®ã€‘**
        *   **è°ƒç”¨æ–¹å¼**ï¼šRESTful API (POST /api/integration/tracking-setup)
        *   **è°ƒç”¨æ—¶æœº**ï¼šé‡Œç¨‹ç¢‘å®ä¾‹åˆ›å»ºå®Œæˆåè§¦å‘
        *   **æ•°æ®æ“ä½œ**ï¼š
            *   **æ•°æ®è¯»å–**ï¼šä»é›†æˆä¸è¿æ¥çš„ carrier_apis (æ‰¿è¿å•†APIè¡¨) è¡¨ã€integration_configs (é›†æˆé…ç½®è¡¨) è¡¨è¯»å–æ¥å£é…ç½®
            *   **æ•°æ®å†™å…¥**ï¼šå‘è´§ä»£æ“ä½œçš„ tracking_integrations (è·Ÿè¸ªé›†æˆè¡¨) è¡¨å†™å…¥é›†æˆé…ç½®
            *   **æ•°æ®æ›´æ–°**ï¼šæ›´æ–°é›†æˆä¸è¿æ¥çš„ api_usage_stats (APIä½¿ç”¨ç»Ÿè®¡è¡¨) è¡¨ä¸­çš„ä½¿ç”¨ç»Ÿè®¡
        *   **å…¥å‚**ï¼š`{waybill_number, carrier_info, tracking_requirements}`
            *   `waybill_number` (è¿å•å·): stringï¼Œéœ€è¦è·Ÿè¸ªçš„è¿å•å·
            *   `carrier_info` (æ‰¿è¿å•†ä¿¡æ¯): objectï¼Œæ‰¿è¿å•†æ ‡è¯†ã€APIæ¥å£ä¿¡æ¯ã€è®¤è¯é…ç½®
            *   `tracking_requirements` (è·Ÿè¸ªè¦æ±‚): objectï¼Œæ•°æ®åŒæ­¥é¢‘ç‡ã€çŠ¶æ€æ˜ å°„è§„åˆ™
        *   **å‡ºå‚**ï¼š`{integration_id, sync_schedule, webhook_config}`
            *   `integration_id` (é›†æˆID): stringï¼Œè·Ÿè¸ªé›†æˆçš„å”¯ä¸€æ ‡è¯†ç¬¦
            *   `sync_schedule` (åŒæ­¥è®¡åˆ’): objectï¼Œæ•°æ®åŒæ­¥çš„æ—¶é—´å®‰æ’å’Œé¢‘ç‡è®¾ç½®
            *   `webhook_config` (å›è°ƒé…ç½®): objectï¼Œå®æ—¶æ•°æ®æ¨é€çš„å›è°ƒåœ°å€å’ŒéªŒè¯è®¾ç½®

5.  **å®¢æˆ·é€šçŸ¥è®¾ç½®**ï¼šå‘å®¢æˆ·æä¾›è·Ÿè¸ªè®¿é—®æƒé™å¹¶å‘é€é€šçŸ¥
    > **æ–°æ‰‹è¯´æ˜**ï¼šè®©å®¢æˆ·èƒ½å¤ŸæŸ¥çœ‹è¿è¾“è¿›åº¦ï¼Œå¹¶æ ¹æ®å®¢æˆ·åå¥½è®¾ç½®é€šçŸ¥æ–¹å¼
    *   **ğŸ”— è·¨ç³»ç»Ÿè§¦å‘**ï¼šè´§ä»£æ“ä½œ(é‡Œç¨‹ç¢‘è·Ÿè¸ª) â†’ è·Ÿè¸ªä¸å®¢æˆ·é—¨æˆ· **ã€å†™å…¥æ•°æ®ã€‘**
        *   **è°ƒç”¨æ–¹å¼**ï¼šRESTful API (POST /api/customer/tracking-access)
        *   **è°ƒç”¨æ—¶æœº**ï¼šè·Ÿè¸ªæ¥å£é…ç½®å®Œæˆåè§¦å‘
        *   **æ•°æ®æ“ä½œ**ï¼š
            *   **æ•°æ®è¯»å–**ï¼šä»è´§ä»£æ“ä½œçš„ tracking_chains (è·Ÿè¸ªé“¾è¡¨) è¡¨è¯»å–è·Ÿè¸ªé“¾ä¿¡æ¯
            *   **æ•°æ®å†™å…¥**ï¼šå‘è·Ÿè¸ªä¸å®¢æˆ·é—¨æˆ·çš„ customer_tracking_access (å®¢æˆ·è·Ÿè¸ªè®¿é—®è¡¨) è¡¨å†™å…¥è®¿é—®æƒé™
            *   **æ•°æ®åˆ›å»º**ï¼šåœ¨è·Ÿè¸ªä¸å®¢æˆ·é—¨æˆ·çš„ tracking_notifications (è·Ÿè¸ªé€šçŸ¥è¡¨) è¡¨ä¸­åˆ›å»ºé€šçŸ¥é…ç½®
        *   **å…¥å‚**ï¼š`{customer_id, tracking_chain_id, notification_preferences}`
            *   `customer_id` (å®¢æˆ·ID): stringï¼Œå®¢æˆ·çš„å”¯ä¸€æ ‡è¯†ç¬¦
            *   `tracking_chain_id` (è·Ÿè¸ªé“¾ID): stringï¼Œè·Ÿè¸ªé“¾çš„å”¯ä¸€æ ‡è¯†ç¬¦
            *   `notification_preferences` (é€šçŸ¥åå¥½): objectï¼Œå®¢æˆ·çš„é€šçŸ¥æ–¹å¼å’Œé¢‘ç‡åå¥½
        *   **å‡ºå‚**ï¼š`{access_token, tracking_url, notification_setup}`
            *   `access_token` (è®¿é—®ä»¤ç‰Œ): stringï¼Œå®¢æˆ·è®¿é—®è·Ÿè¸ªä¿¡æ¯çš„å®‰å…¨ä»¤ç‰Œ
            *   `tracking_url` (è·Ÿè¸ªé“¾æ¥): stringï¼Œå®¢æˆ·æŸ¥çœ‹è·Ÿè¸ªä¿¡æ¯çš„ä¸“ç”¨é“¾æ¥
            *   `notification_setup` (é€šçŸ¥è®¾ç½®): objectï¼Œé€šçŸ¥é…ç½®çš„è¯¦ç»†ä¿¡æ¯å’Œå‘é€è®¡åˆ’

### ğŸ“Š çŠ¶æ€æ›´æ–°æµç¨‹

1.  **æ•°æ®æºç›‘æ§**ï¼šç³»ç»ŸæŒç»­ç›‘æ§å„ç§æ•°æ®æºçš„çŠ¶æ€æ›´æ–°
    > **æ–°æ‰‹è¯´æ˜**ï¼šç³»ç»Ÿä¼šä»å¤šä¸ªæ¸ é“è·å–æœ€æ–°çš„è¿è¾“çŠ¶æ€ä¿¡æ¯ï¼Œç¡®ä¿æ•°æ®çš„åŠæ—¶æ€§å’Œå‡†ç¡®æ€§
    *   **ğŸŒ å¤–éƒ¨ç³»ç»Ÿäº¤äº’**ï¼šæ‰¿è¿å•†ç³»ç»Ÿã€GPSè®¾å¤‡ã€æ¸¯å£ç³»ç»Ÿ
        *   **è°ƒç”¨æ–¹å¼**ï¼šå®šæœŸè½®è¯¢ + å®æ—¶æ¨é€ (Webhook)
        *   **è°ƒç”¨æ—¶æœº**ï¼šæŒ‰é…ç½®çš„åŒæ­¥é¢‘ç‡æ‰§è¡Œï¼Œæˆ–æ¥æ”¶å®æ—¶æ¨é€
        *   **æ•°æ®æ“ä½œ**ï¼š
            *   **æ•°æ®è¯»å–**ï¼šä»å¤–éƒ¨ç³»ç»Ÿè¯»å–è·Ÿè¸ªäº‹ä»¶ã€ä½ç½®æ›´æ–°ã€çŠ¶æ€å˜æ›´
            *   **æ•°æ®å†™å…¥**ï¼šå‘è´§ä»£æ“ä½œçš„ tracking_events (è·Ÿè¸ªäº‹ä»¶è¡¨) è¡¨å†™å…¥åŸå§‹äº‹ä»¶æ•°æ®
            *   **æ•°æ®æ ‡å‡†åŒ–**ï¼šåœ¨è´§ä»£æ“ä½œçš„ normalized_events (æ ‡å‡†åŒ–äº‹ä»¶è¡¨) è¡¨ä¸­å­˜å‚¨æ ‡å‡†åŒ–åçš„äº‹ä»¶
        *   **å…¥å‚**ï¼š`{tracking_reference, time_range, event_types}`
            *   `tracking_reference` (è·Ÿè¸ªå‚è€ƒ): stringï¼Œè¿å•å·ã€é›†è£…ç®±å·ç­‰è·Ÿè¸ªæ ‡è¯†
            *   `time_range` (æ—¶é—´èŒƒå›´): objectï¼ŒæŸ¥è¯¢çš„æ—¶é—´èŒƒå›´ï¼Œç”¨äºå¢é‡åŒæ­¥
            *   `event_types` (äº‹ä»¶ç±»å‹): arrayï¼Œéœ€è¦è·å–çš„äº‹ä»¶ç±»å‹è¿‡æ»¤æ¡ä»¶
        *   **å‡ºå‚**ï¼š`{events, location_updates, status_changes}`
            *   `events` (äº‹ä»¶åˆ—è¡¨): arrayï¼Œè·å–åˆ°çš„è·Ÿè¸ªäº‹ä»¶è¯¦ç»†ä¿¡æ¯
            *   `location_updates` (ä½ç½®æ›´æ–°): arrayï¼ŒGPSä½ç½®å’Œåœ°ç†ä¿¡æ¯æ›´æ–°
            *   `status_changes` (çŠ¶æ€å˜æ›´): arrayï¼Œè¿è¾“çŠ¶æ€çš„å˜æ›´è®°å½•

2.  **çŠ¶æ€è§£æä¸åŒ¹é…**ï¼šå°†å¤–éƒ¨ç³»ç»Ÿçš„çŠ¶æ€ä¿¡æ¯æ˜ å°„åˆ°æ ‡å‡†é‡Œç¨‹ç¢‘èŠ‚ç‚¹
    > **æ–°æ‰‹è¯´æ˜**ï¼šä¸åŒç³»ç»Ÿçš„çŠ¶æ€æè¿°å¯èƒ½ä¸åŒï¼Œéœ€è¦ç»Ÿä¸€è½¬æ¢ä¸ºæ ‡å‡†çš„é‡Œç¨‹ç¢‘çŠ¶æ€
    *   **ç³»ç»Ÿå†…æµè½¬**ï¼šçŠ¶æ€æ ‡å‡†åŒ–å¤„ç†
        *   **è°ƒç”¨æ–¹å¼**ï¼šå†…éƒ¨å‡½æ•°è°ƒç”¨
        *   **è°ƒç”¨æ—¶æœº**ï¼šæ¥æ”¶åˆ°å¤–éƒ¨çŠ¶æ€æ›´æ–°åç«‹å³æ‰§è¡Œ
        *   **æ•°æ®æ“ä½œ**ï¼š
            *   **æ•°æ®è¯»å–**ï¼šä»è´§ä»£æ“ä½œçš„ status_mapping_rules (çŠ¶æ€æ˜ å°„è§„åˆ™è¡¨) è¡¨è¯»å–æ˜ å°„è§„åˆ™
            *   **æ•°æ®æ›´æ–°**ï¼šæ›´æ–°è´§ä»£æ“ä½œçš„ milestone_instances (é‡Œç¨‹ç¢‘å®ä¾‹è¡¨) è¡¨ä¸­çš„çŠ¶æ€ä¿¡æ¯
            *   **æ•°æ®å†™å…¥**ï¼šå‘è´§ä»£æ“ä½œçš„ status_update_logs (çŠ¶æ€æ›´æ–°æ—¥å¿—è¡¨) è¡¨å†™å…¥æ›´æ–°è®°å½•
        *   **ä¸šåŠ¡é€»è¾‘**ï¼šæ ¹æ®é¢„è®¾è§„åˆ™å°†å¤–éƒ¨çŠ¶æ€æ˜ å°„ä¸ºæ ‡å‡†é‡Œç¨‹ç¢‘çŠ¶æ€ï¼Œå¤„ç†çŠ¶æ€å†²çªå’Œå¼‚å¸¸
        *   **å…¥å‚**ï¼š`{external_status, carrier_type, milestone_context}`
            *   `external_status` (å¤–éƒ¨çŠ¶æ€): objectï¼Œä»å¤–éƒ¨ç³»ç»Ÿè·å–çš„åŸå§‹çŠ¶æ€ä¿¡æ¯
            *   `carrier_type` (æ‰¿è¿å•†ç±»å‹): enumï¼Œæ‰¿è¿å•†ç±»å‹ï¼Œç”¨äºé€‰æ‹©å¯¹åº”çš„æ˜ å°„è§„åˆ™
            *   `milestone_context` (é‡Œç¨‹ç¢‘ä¸Šä¸‹æ–‡): objectï¼Œå½“å‰é‡Œç¨‹ç¢‘çš„ä¸Šä¸‹æ–‡ä¿¡æ¯
        *   **å‡ºå‚**ï¼š`{mapped_status, confidence_level, update_actions}`
            *   `mapped_status` (æ˜ å°„çŠ¶æ€): enumï¼Œæ˜ å°„åçš„æ ‡å‡†é‡Œç¨‹ç¢‘çŠ¶æ€
            *   `confidence_level` (ç½®ä¿¡åº¦): floatï¼ŒçŠ¶æ€æ˜ å°„çš„å¯ä¿¡åº¦è¯„åˆ†
            *   `update_actions` (æ›´æ–°åŠ¨ä½œ): arrayï¼Œéœ€è¦æ‰§è¡Œçš„åç»­æ›´æ–°åŠ¨ä½œ

3.  **é‡Œç¨‹ç¢‘çŠ¶æ€æ›´æ–°**ï¼šæ›´æ–°é‡Œç¨‹ç¢‘å®ä¾‹çš„çŠ¶æ€å’Œæ—¶é—´ä¿¡æ¯
    > **æ–°æ‰‹è¯´æ˜**ï¼šå°†è§£æåçš„çŠ¶æ€ä¿¡æ¯æ›´æ–°åˆ°å¯¹åº”çš„é‡Œç¨‹ç¢‘èŠ‚ç‚¹ï¼Œè®°å½•å®é™…å®Œæˆæ—¶é—´
    *   **ç³»ç»Ÿå†…æµè½¬**ï¼šé‡Œç¨‹ç¢‘çŠ¶æ€ç»´æŠ¤
        *   **è°ƒç”¨æ–¹å¼**ï¼šå†…éƒ¨å‡½æ•°è°ƒç”¨
        *   **è°ƒç”¨æ—¶æœº**ï¼šçŠ¶æ€è§£æå®Œæˆåç«‹å³æ‰§è¡Œ
        *   **æ•°æ®æ“ä½œ**ï¼š
            *   **æ•°æ®æ›´æ–°**ï¼šæ›´æ–°è´§ä»£æ“ä½œçš„ milestone_instances (é‡Œç¨‹ç¢‘å®ä¾‹è¡¨) è¡¨ä¸­çš„çŠ¶æ€å’Œæ—¶é—´
            *   **æ•°æ®å†™å…¥**ï¼šå‘è´§ä»£æ“ä½œçš„ milestone_history (é‡Œç¨‹ç¢‘å†å²è¡¨) è¡¨å†™å…¥çŠ¶æ€å˜æ›´å†å²
            *   **æ•°æ®è®¡ç®—**ï¼šåœ¨è´§ä»£æ“ä½œçš„ performance_metrics (æ€§èƒ½æŒ‡æ ‡è¡¨) è¡¨ä¸­æ›´æ–°æ€§èƒ½æŒ‡æ ‡
        *   **ä¸šåŠ¡é€»è¾‘**ï¼šæ›´æ–°é‡Œç¨‹ç¢‘çŠ¶æ€ï¼Œè®¡ç®—å»¶è¯¯æƒ…å†µï¼Œè§¦å‘ç›¸å…³ä¸šåŠ¡è§„åˆ™
        *   **å…¥å‚**ï¼š`{milestone_id, new_status, actual_time, location_info}`
            *   `milestone_id` (é‡Œç¨‹ç¢‘ID): stringï¼Œéœ€è¦æ›´æ–°çš„é‡Œç¨‹ç¢‘å”¯ä¸€æ ‡è¯†ç¬¦
            *   `new_status` (æ–°çŠ¶æ€): enumï¼Œé‡Œç¨‹ç¢‘çš„æ–°çŠ¶æ€å€¼
            *   `actual_time` (å®é™…æ—¶é—´): datetimeï¼Œé‡Œç¨‹ç¢‘å®é™…å®Œæˆæˆ–æ›´æ–°çš„æ—¶é—´
            *   `location_info` (ä½ç½®ä¿¡æ¯): objectï¼Œç›¸å…³çš„åœ°ç†ä½ç½®ä¿¡æ¯
        *   **å‡ºå‚**ï¼š`{update_result, delay_analysis, next_milestones}`
            *   `update_result` (æ›´æ–°ç»“æœ): objectï¼ŒçŠ¶æ€æ›´æ–°çš„ç»“æœå’Œå½±å“åˆ†æ
            *   `delay_analysis` (å»¶è¯¯åˆ†æ): objectï¼Œä¸è®¡åˆ’æ—¶é—´çš„å¯¹æ¯”å’Œå»¶è¯¯æƒ…å†µ
            *   `next_milestones` (åç»­é‡Œç¨‹ç¢‘): arrayï¼Œå—å½±å“çš„åç»­é‡Œç¨‹ç¢‘ä¿¡æ¯

4.  **å®¢æˆ·é€šçŸ¥è§¦å‘**ï¼šæ ¹æ®çŠ¶æ€å˜æ›´è§¦å‘å®¢æˆ·é€šçŸ¥
    > **æ–°æ‰‹è¯´æ˜**ï¼šé‡è¦çš„çŠ¶æ€å˜æ›´ä¼šè‡ªåŠ¨é€šçŸ¥å®¢æˆ·ï¼Œè®©å®¢æˆ·åŠæ—¶äº†è§£è¿è¾“è¿›å±•
    *   **ğŸ”— è·¨ç³»ç»Ÿè§¦å‘**ï¼šè´§ä»£æ“ä½œ â†’ å®¢æˆ·è·Ÿè¸ªä¸å®¢æˆ·é—¨æˆ· **ã€å†™å…¥æ•°æ®ã€‘**
        *   **è°ƒç”¨æ–¹å¼**ï¼šRESTful API (POST /api/customer/status-notification)
        *   **è°ƒç”¨æ—¶æœº**ï¼šé‡Œç¨‹ç¢‘çŠ¶æ€æ›´æ–°å®Œæˆåï¼Œæ ¹æ®é€šçŸ¥è§„åˆ™è§¦å‘
        *   **æ•°æ®æ“ä½œ**ï¼š
            *   **æ•°æ®è¯»å–**ï¼šä»è´§ä»£æ“ä½œçš„ milestone_instances (é‡Œç¨‹ç¢‘å®ä¾‹è¡¨) è¡¨è¯»å–æœ€æ–°çŠ¶æ€
            *   **æ•°æ®å†™å…¥**ï¼šå‘å®¢æˆ·è·Ÿè¸ªä¸å®¢æˆ·é—¨æˆ·çš„ notification_queue (é€šçŸ¥é˜Ÿåˆ—è¡¨) è¡¨å†™å…¥é€šçŸ¥ä»»åŠ¡
            *   **æ•°æ®æ›´æ–°**ï¼šæ›´æ–°å®¢æˆ·è·Ÿè¸ªä¸å®¢æˆ·é—¨æˆ·çš„ customer_timeline (å®¢æˆ·æ—¶é—´çº¿è¡¨) è¡¨ä¸­çš„æ—¶é—´çº¿
        *   **å…¥å‚**ï¼š`{customer_id, milestone_update, notification_rules}`
            *   `customer_id` (å®¢æˆ·ID): stringï¼Œéœ€è¦é€šçŸ¥çš„å®¢æˆ·æ ‡è¯†ç¬¦
            *   `milestone_update` (é‡Œç¨‹ç¢‘æ›´æ–°): objectï¼Œé‡Œç¨‹ç¢‘çŠ¶æ€æ›´æ–°çš„è¯¦ç»†ä¿¡æ¯
            *   `notification_rules` (é€šçŸ¥è§„åˆ™): objectï¼Œå®¢æˆ·çš„é€šçŸ¥åå¥½å’Œè§„åˆ™è®¾ç½®
        *   **å‡ºå‚**ï¼š`{notification_id, delivery_schedule, message_content}`
            *   `notification_id` (é€šçŸ¥ID): stringï¼Œé€šçŸ¥ä»»åŠ¡çš„å”¯ä¸€æ ‡è¯†ç¬¦
            *   `delivery_schedule` (å‘é€è®¡åˆ’): objectï¼Œé€šçŸ¥çš„å‘é€æ—¶é—´å’Œæ–¹å¼å®‰æ’
            *   `message_content` (æ¶ˆæ¯å†…å®¹): objectï¼Œé€šçŸ¥æ¶ˆæ¯çš„å…·ä½“å†…å®¹å’Œæ ¼å¼

### âš ï¸ å¼‚å¸¸ç›‘æ§æµç¨‹

1.  **å¼‚å¸¸æ£€æµ‹**ï¼šç³»ç»ŸæŒç»­ç›‘æ§é‡Œç¨‹ç¢‘è¿›åº¦ï¼Œè¯†åˆ«æ½œåœ¨å¼‚å¸¸
    > **æ–°æ‰‹è¯´æ˜**ï¼šç³»ç»Ÿä¼šä¸»åŠ¨å‘ç°å»¶è¯¯ã€è·¯çº¿åå·®ç­‰å¼‚å¸¸æƒ…å†µï¼Œè€Œä¸æ˜¯è¢«åŠ¨ç­‰å¾…é—®é¢˜å‘ç”Ÿ
    *   **ç³»ç»Ÿå†…æµè½¬**ï¼šå¼‚å¸¸æ£€æµ‹å¼•æ“
        *   **è°ƒç”¨æ–¹å¼**ï¼šå®šæ—¶ä»»åŠ¡ + äº‹ä»¶è§¦å‘
        *   **è°ƒç”¨æ—¶æœº**ï¼šå®šæœŸæ£€æŸ¥ + çŠ¶æ€æ›´æ–°æ—¶å®æ—¶æ£€æŸ¥
        *   **æ•°æ®æ“ä½œ**ï¼š
            *   **æ•°æ®è¯»å–**ï¼šä»è´§ä»£æ“ä½œçš„ milestone_instances (é‡Œç¨‹ç¢‘å®ä¾‹è¡¨) è¡¨ã€milestone_schedules (é‡Œç¨‹ç¢‘è®¡åˆ’è¡¨) è¡¨è¯»å–è¿›å±•æ•°æ®
            *   **æ•°æ®å†™å…¥**ï¼šå‘è´§ä»£æ“ä½œçš„ anomaly_detections (å¼‚å¸¸æ£€æµ‹è¡¨) è¡¨å†™å…¥æ£€æµ‹ç»“æœ
            *   **æ•°æ®åˆ†æ**ï¼šåœ¨è´§ä»£æ“ä½œçš„ risk_assessments (é£é™©è¯„ä¼°è¡¨) è¡¨ä¸­è¿›è¡Œé£é™©åˆ†æ
        *   **ä¸šåŠ¡é€»è¾‘**ï¼šåŸºäºæ—¶é—´åå·®ã€è·¯çº¿åå·®ã€çŠ¶æ€å¼‚å¸¸ç­‰å¤šç»´åº¦æ£€æµ‹å¼‚å¸¸æƒ…å†µ
        *   **å…¥å‚**ï¼š`{tracking_chain_id, current_status, detection_rules}`
            *   `tracking_chain_id` (è·Ÿè¸ªé“¾ID): stringï¼Œéœ€è¦æ£€æµ‹çš„è·Ÿè¸ªé“¾æ ‡è¯†ç¬¦
            *   `current_status` (å½“å‰çŠ¶æ€): objectï¼Œè·Ÿè¸ªé“¾çš„å½“å‰çŠ¶æ€å’Œè¿›å±•æƒ…å†µ
            *   `detection_rules` (æ£€æµ‹è§„åˆ™): objectï¼Œå¼‚å¸¸æ£€æµ‹çš„è§„åˆ™å’Œé˜ˆå€¼é…ç½®
        *   **å‡ºå‚**ï¼š`{anomalies, risk_level, recommended_actions}`
            *   `anomalies` (å¼‚å¸¸åˆ—è¡¨): arrayï¼Œæ£€æµ‹åˆ°çš„å¼‚å¸¸æƒ…å†µè¯¦ç»†ä¿¡æ¯
            *   `risk_level` (é£é™©ç­‰çº§): enum (ä½/ä¸­/é«˜/ç´§æ€¥)ï¼Œç»¼åˆé£é™©è¯„ä¼°ç­‰çº§
            *   `recommended_actions` (å»ºè®®æªæ–½): arrayï¼Œç³»ç»Ÿæ¨èçš„å¤„ç†æªæ–½

2.  **é¢„è­¦è§¦å‘**ï¼šæ ¹æ®å¼‚å¸¸ä¸¥é‡ç¨‹åº¦è§¦å‘ä¸åŒçº§åˆ«çš„é¢„è­¦
    > **æ–°æ‰‹è¯´æ˜**ï¼šä¸åŒä¸¥é‡ç¨‹åº¦çš„å¼‚å¸¸ä¼šè§¦å‘ä¸åŒçš„å¤„ç†æµç¨‹ï¼Œç¡®ä¿åŠæ—¶å“åº”
    *   **ğŸ”— è·¨ç³»ç»Ÿè§¦å‘**ï¼šè´§ä»£æ“ä½œ â†’ å·¥ä½œæµä¸è‡ªåŠ¨åŒ– **ã€å†™å…¥æ•°æ®ã€‘**
        *   **è°ƒç”¨æ–¹å¼**ï¼šRESTful API (POST /api/workflow/alert-trigger)
        *   **è°ƒç”¨æ—¶æœº**ï¼šå¼‚å¸¸æ£€æµ‹å®Œæˆåï¼Œæ ¹æ®é£é™©ç­‰çº§ç«‹å³è§¦å‘
        *   **æ•°æ®æ“ä½œ**ï¼š
            *   **æ•°æ®è¯»å–**ï¼šä»è´§ä»£æ“ä½œçš„ anomaly_detections (å¼‚å¸¸æ£€æµ‹è¡¨) è¡¨è¯»å–å¼‚å¸¸ä¿¡æ¯
            *   **æ•°æ®å†™å…¥**ï¼šå‘å·¥ä½œæµä¸è‡ªåŠ¨åŒ–çš„ alert_instances (é¢„è­¦å®ä¾‹è¡¨) è¡¨å†™å…¥é¢„è­¦è®°å½•
            *   **æ•°æ®åˆ›å»º**ï¼šåœ¨å·¥ä½œæµä¸è‡ªåŠ¨åŒ–çš„ escalation_tasks (å‡çº§ä»»åŠ¡è¡¨) è¡¨ä¸­åˆ›å»ºå‡çº§ä»»åŠ¡
        *   **å…¥å‚**ï¼š`{anomaly_info, alert_rules, stakeholders}`
            *   `anomaly_info` (å¼‚å¸¸ä¿¡æ¯): objectï¼Œæ£€æµ‹åˆ°çš„å¼‚å¸¸è¯¦ç»†ä¿¡æ¯å’Œå½±å“åˆ†æ
            *   `alert_rules` (é¢„è­¦è§„åˆ™): objectï¼Œé¢„è­¦è§¦å‘æ¡ä»¶å’Œå‡çº§è§„åˆ™
            *   `stakeholders` (ç›¸å…³äººå‘˜): arrayï¼Œéœ€è¦é€šçŸ¥çš„ç›¸å…³äººå‘˜å’Œè§’è‰²
        *   **å‡ºå‚**ï¼š`{alert_id, notification_plan, escalation_schedule}`
            *   `alert_id` (é¢„è­¦ID): stringï¼Œé¢„è­¦å®ä¾‹çš„å”¯ä¸€æ ‡è¯†ç¬¦
            *   `notification_plan` (é€šçŸ¥è®¡åˆ’): objectï¼Œé¢„è­¦é€šçŸ¥çš„å‘é€è®¡åˆ’å’Œæ¥æ”¶äºº
            *   `escalation_schedule` (å‡çº§è®¡åˆ’): objectï¼Œé¢„è­¦å‡çº§çš„æ—¶é—´å®‰æ’å’Œæ¡ä»¶

3.  **å¤„ç†åè°ƒ**ï¼šåè°ƒç›¸å…³éƒ¨é—¨å’Œäººå‘˜å¤„ç†å¼‚å¸¸æƒ…å†µ
    > **æ–°æ‰‹è¯´æ˜**ï¼šå¼‚å¸¸å‘ç”Ÿåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åè°ƒç›¸å…³èµ„æºï¼Œç¡®ä¿é—®é¢˜å¾—åˆ°åŠæ—¶å¤„ç†
    *   **ğŸ”— è·¨ç³»ç»Ÿè§¦å‘**ï¼šè´§ä»£æ“ä½œ â†’ ä½œä¸šç®¡ç† **ã€å†™å…¥æ•°æ®ã€‘**
        *   **è°ƒç”¨æ–¹å¼**ï¼šRESTful API (POST /api/jobs/exception-handling)
        *   **è°ƒç”¨æ—¶æœº**ï¼šé¢„è­¦è§¦å‘åï¼Œéœ€è¦åˆ›å»ºå¤„ç†ä»»åŠ¡æ—¶æ‰§è¡Œ
        *   **æ•°æ®æ“ä½œ**ï¼š
            *   **æ•°æ®è¯»å–**ï¼šä»è´§ä»£æ“ä½œçš„ anomaly_detections (å¼‚å¸¸æ£€æµ‹è¡¨) è¡¨è¯»å–å¼‚å¸¸è¯¦æƒ…
            *   **æ•°æ®å†™å…¥**ï¼šå‘ä½œä¸šç®¡ç†çš„ exception_jobs (å¼‚å¸¸å¤„ç†ä½œä¸šè¡¨) è¡¨å†™å…¥å¤„ç†ä»»åŠ¡
            *   **æ•°æ®å…³è”**ï¼šåœ¨ä½œä¸šç®¡ç†çš„ job_assignments (ä½œä¸šåˆ†é…è¡¨) è¡¨ä¸­åˆ†é…å¤„ç†äººå‘˜
        *   **å…¥å‚**ï¼š`{exception_info, available_resources, handling_priority}`
            *   `exception_info` (å¼‚å¸¸ä¿¡æ¯): objectï¼Œå¼‚å¸¸çš„è¯¦ç»†ä¿¡æ¯å’Œå¤„ç†è¦æ±‚
            *   `available_resources` (å¯ç”¨èµ„æº): objectï¼Œå¯è°ƒé…çš„äººå‘˜ã€è®¾å¤‡ç­‰èµ„æºä¿¡æ¯
            *   `handling_priority` (å¤„ç†ä¼˜å…ˆçº§): enumï¼Œå¼‚å¸¸å¤„ç†çš„ä¼˜å…ˆçº§åˆ«
        *   **å‡ºå‚**ï¼š`{handling_jobs, resource_allocation, timeline_adjustment}`
            *   `handling_jobs` (å¤„ç†ä½œä¸š): arrayï¼Œåˆ›å»ºçš„å¼‚å¸¸å¤„ç†ä½œä¸šè¯¦æƒ…
            *   `resource_allocation` (èµ„æºåˆ†é…): objectï¼Œåˆ†é…çš„äººå‘˜å’Œèµ„æºå®‰æ’
            *   `timeline_adjustment` (æ—¶é—´è°ƒæ•´): objectï¼Œå¯¹åŸè®¡åˆ’çš„æ—¶é—´è°ƒæ•´å»ºè®®

4.  **ç»“æœè·Ÿè¸ª**ï¼šè·Ÿè¸ªå¼‚å¸¸å¤„ç†ç»“æœå¹¶æ›´æ–°é‡Œç¨‹ç¢‘çŠ¶æ€
    > **æ–°æ‰‹è¯´æ˜**ï¼šç¡®ä¿å¼‚å¸¸å¤„ç†çš„æ•ˆæœå¾—åˆ°éªŒè¯ï¼Œå¹¶åŠæ—¶æ›´æ–°è·Ÿè¸ªä¿¡æ¯
    *   **ç³»ç»Ÿå†…æµè½¬**ï¼šå¼‚å¸¸å¤„ç†ç»“æœéªŒè¯
        *   **è°ƒç”¨æ–¹å¼**ï¼šå†…éƒ¨å‡½æ•°è°ƒç”¨ + å®šæ—¶æ£€æŸ¥
        *   **è°ƒç”¨æ—¶æœº**ï¼šå¼‚å¸¸å¤„ç†ä½œä¸šå®Œæˆåè§¦å‘éªŒè¯
        *   **æ•°æ®æ“ä½œ**ï¼š
            *   **æ•°æ®è¯»å–**ï¼šä»ä½œä¸šç®¡ç†çš„ exception_jobs (å¼‚å¸¸å¤„ç†ä½œä¸šè¡¨) è¡¨è¯»å–å¤„ç†ç»“æœ
            *   **æ•°æ®æ›´æ–°**ï¼šæ›´æ–°è´§ä»£æ“ä½œçš„ milestone_instances (é‡Œç¨‹ç¢‘å®ä¾‹è¡¨) è¡¨ä¸­çš„çŠ¶æ€å’Œè®¡åˆ’
            *   **æ•°æ®å†™å…¥**ï¼šå‘è´§ä»£æ“ä½œçš„ exception_resolutions (å¼‚å¸¸è§£å†³è¡¨) è¡¨å†™å…¥è§£å†³è®°å½•
        *   **ä¸šåŠ¡é€»è¾‘**ï¼šéªŒè¯å¼‚å¸¸å¤„ç†æ•ˆæœï¼Œæ›´æ–°é‡Œç¨‹ç¢‘è®¡åˆ’ï¼Œè®°å½•å¤„ç†ç»éªŒ
        *   **å…¥å‚**ï¼š`{exception_id, handling_results, verification_criteria}`
            *   `exception_id` (å¼‚å¸¸ID): stringï¼Œå¼‚å¸¸çš„å”¯ä¸€æ ‡è¯†ç¬¦
            *   `handling_results` (å¤„ç†ç»“æœ): objectï¼Œå¼‚å¸¸å¤„ç†çš„å…·ä½“ç»“æœå’Œæ•ˆæœ
            *   `verification_criteria` (éªŒè¯æ ‡å‡†): objectï¼Œåˆ¤æ–­å¤„ç†æ˜¯å¦æˆåŠŸçš„æ ‡å‡†
        *   **å‡ºå‚**ï¼š`{resolution_status, updated_milestones, lessons_learned}`
            *   `resolution_status` (è§£å†³çŠ¶æ€): enum (å·²è§£å†³/éƒ¨åˆ†è§£å†³/æœªè§£å†³)ï¼Œå¼‚å¸¸å¤„ç†çš„æœ€ç»ˆçŠ¶æ€
            *   `updated_milestones` (æ›´æ–°é‡Œç¨‹ç¢‘): arrayï¼Œå—å½±å“çš„é‡Œç¨‹ç¢‘æ›´æ–°ä¿¡æ¯
            *   `lessons_learned` (ç»éªŒæ€»ç»“): objectï¼Œå¤„ç†è¿‡ç¨‹ä¸­çš„ç»éªŒå’Œæ”¹è¿›å»ºè®®
         
## æ ¸å¿ƒåŠŸèƒ½æ‰©å±•

### æ™ºèƒ½é¢„æµ‹ä¸åˆ†æ

#### æ™ºèƒ½é‡Œç¨‹ç¢‘é¢„æµ‹å¼•æ“
```python
class MilestonePredictionEngine:
    """æ™ºèƒ½é‡Œç¨‹ç¢‘é¢„æµ‹å¼•æ“"""
    
    def __init__(self):
        self.ml_model = self.load_prediction_model()
        self.weather_service = WeatherService()
        self.traffic_analyzer = TrafficAnalyzer()
    
    def predict_milestone_timeline(self, shipment_data):
        """
        åŸºäºå†å²æ•°æ®å’Œå®æ—¶ä¿¡æ¯é¢„æµ‹é‡Œç¨‹ç¢‘æ—¶é—´çº¿
        
        Args:
            shipment_data: è´§ç‰©è¿è¾“ä¿¡æ¯
            
        Returns:
            é¢„æµ‹çš„é‡Œç¨‹ç¢‘æ—¶é—´çº¿
        """
        # è·å–å†å²æ•°æ®ç‰¹å¾
        historical_features = self.extract_historical_features(
            shipment_data.route,
            shipment_data.carrier,
            shipment_data.cargo_type
        )
        
        # è·å–å®æ—¶å½±å“å› ç´ 
        weather_impact = self.weather_service.get_route_weather_forecast(
            shipment_data.route
        )
        traffic_conditions = self.traffic_analyzer.analyze_route_congestion(
            shipment_data.route
        )
        
        # ç»¼åˆé¢„æµ‹
        predictions = []
        for milestone in shipment_data.milestones:
            predicted_time = self.ml_model.predict_arrival_time(
                milestone,
                historical_features,
                weather_impact,
                traffic_conditions
            )
            
            confidence_score = self.calculate_prediction_confidence(
                milestone, historical_features
            )
            
            predictions.append({
                'milestone': milestone.name,
                'predicted_time': predicted_time,
                'confidence': confidence_score,
                'risk_factors': self.identify_risk_factors(milestone, weather_impact)
            })
        
        return predictions
```
#### å¼‚å¸¸æ£€æµ‹ä¸é¢„è­¦ç³»ç»Ÿ
```python
class AnomalyDetectionSystem:
    """å¼‚å¸¸æ£€æµ‹ä¸é¢„è­¦ç³»ç»Ÿ"""
    
    def __init__(self):
        self.anomaly_detector = AnomalyDetector()
        self.alert_manager = AlertManager()
        self.escalation_rules = EscalationRules()
    
    def detect_tracking_anomalies(self, tracking_data):
        """
        æ£€æµ‹è·Ÿè¸ªæ•°æ®ä¸­çš„å¼‚å¸¸æƒ…å†µ
        
        Args:
            tracking_data: å®æ—¶è·Ÿè¸ªæ•°æ®
            
        Returns:
            æ£€æµ‹åˆ°çš„å¼‚å¸¸æƒ…å†µ
        """
        anomalies = []
        
        # æ—¶é—´å¼‚å¸¸æ£€æµ‹
        time_anomalies = self.detect_time_anomalies(tracking_data)
        anomalies.extend(time_anomalies)
        
        # ä½ç½®å¼‚å¸¸æ£€æµ‹
        location_anomalies = self.detect_location_anomalies(tracking_data)
        anomalies.extend(location_anomalies)
        
        # çŠ¶æ€å¼‚å¸¸æ£€æµ‹
        status_anomalies = self.detect_status_anomalies(tracking_data)
        anomalies.extend(status_anomalies)
        
        # ç”Ÿæˆé¢„è­¦
        for anomaly in anomalies:
            alert = self.generate_alert(anomaly)
            self.alert_manager.send_alert(alert)
            
            # å‡çº§å¤„ç†
            if anomaly.severity == 'critical':
                self.escalation_rules.escalate_alert(alert)
        
        return anomalies
    
    def generate_alert(self, anomaly):
        """ç”Ÿæˆé¢„è­¦ä¿¡æ¯"""
        return {
            'alert_id': self.generate_alert_id(),
            'shipment_id': anomaly.shipment_id,
            'anomaly_type': anomaly.type,
            'severity': anomaly.severity,
            'description': anomaly.description,
            'recommended_actions': self.get_recommended_actions(anomaly),
            'created_at': datetime.now(),
            'stakeholders': self.identify_stakeholders(anomaly)
        }
```

## APIæ¥å£è®¾è®¡

### é‡Œç¨‹ç¢‘åˆ›å»ºæ¥å£
```json
POST /api/v1/milestones
Content-Type: application/json

{
  "shipment_id": "SHP-20240315-001",  // è´§è¿ID
  "template_id": "TPL-SEA-STANDARD",  // æ¨¡æ¿ID
  "milestones": [  // é‡Œç¨‹ç¢‘åˆ—è¡¨
    {
      "name": "è´§ç‰©èµ·è¿",  // é‡Œç¨‹ç¢‘åç§°
      "code": "DEPARTURE",  // é‡Œç¨‹ç¢‘ä»£ç 
      "planned_time": "2024-03-25T14:00:00Z",  // è®¡åˆ’æ—¶é—´
      "location": "ä¸Šæµ·æ¸¯",  // ä½ç½®
      "description": "è´§ç‰©ä»èµ·è¿æ¸¯å‡ºå‘"  // æè¿°
    },
    {
      "name": "åˆ°è¾¾ç›®çš„æ¸¯",  // é‡Œç¨‹ç¢‘åç§°
      "code": "ARRIVAL",  // é‡Œç¨‹ç¢‘ä»£ç 
      "planned_time": "2024-04-20T08:00:00Z",  // è®¡åˆ’æ—¶é—´
      "location": "æ´›æ‰çŸ¶æ¸¯",  // ä½ç½®
      "description": "è´§ç‰©åˆ°è¾¾ç›®çš„æ¸¯"  // æè¿°
    }
  ]
}

Response:
{
  "success": true,
  "data": {
    "tracking_id": "TRK-20240315-001",
    "milestones": [
      {
        "milestone_id": "MS-001",
        "name": "è´§ç‰©èµ·è¿",
        "status": "pending",
        "planned_time": "2024-03-25T14:00:00Z",
        "predicted_time": "2024-03-25T14:30:00Z"
      }
    ]
  }
}
```

### è·Ÿè¸ªçŠ¶æ€æ›´æ–°æ¥å£
```json
PUT /api/v1/milestones/{milestone_id}/status
Content-Type: application/json

{
  "status": "completed",  // çŠ¶æ€
  "actual_time": "2024-03-25T14:15:00Z",  // å®é™…æ—¶é—´
  "location": {  // ä½ç½®ä¿¡æ¯
    "latitude": 31.2304,  // çº¬åº¦
    "longitude": 121.4737,  // ç»åº¦
    "address": "ä¸Šæµ·æ¸¯ç å¤´"  // åœ°å€
  },
  "notes": "è´§ç‰©å·²é¡ºåˆ©èµ·è¿ï¼Œå¤©æ°”è‰¯å¥½",  // å¤‡æ³¨
  "attachments": [  // é™„ä»¶åˆ—è¡¨
    {
      "type": "photo",  // ç±»å‹
      "url": "https://example.com/photos/departure.jpg",  // URL
      "description": "èµ·è¿ç°åœºç…§ç‰‡"  // æè¿°
    }
  ]
}

Response:
{
  "success": true,
  "data": {
    "milestone_id": "MS-001",
    "status": "completed",
    "actual_time": "2024-03-25T14:15:00Z",
    "next_milestone": {
      "milestone_id": "MS-002",
      "name": "åœ¨é€”æ›´æ–°",
      "estimated_time": "2024-03-27T10:00:00Z"
    }
  }
}
```

## æµ‹è¯•ç”¨ä¾‹

### åŠŸèƒ½æµ‹è¯•ç”¨ä¾‹

| æµ‹è¯•åœºæ™¯ | æµ‹è¯•æ­¥éª¤ | é¢„æœŸç»“æœ |
|---------|---------|---------|
| é‡Œç¨‹ç¢‘è‡ªåŠ¨åˆ›å»º | 1. è¿å•åˆ›å»ºå®Œæˆ<br>2. ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆé‡Œç¨‹ç¢‘èŠ‚ç‚¹<br>3. è®¾ç½®è®¡åˆ’æ—¶é—´å’ŒçŠ¶æ€<br>4. åˆ›å»ºè·Ÿè¸ªè®°å½• | æˆåŠŸåˆ›å»ºå®Œæ•´çš„é‡Œç¨‹ç¢‘é“¾è·¯ï¼ŒçŠ¶æ€ä¸º"å¾…å¼€å§‹"ï¼ŒåŒ…å«æ‰€æœ‰å…³é”®èŠ‚ç‚¹ |
| å®æ—¶çŠ¶æ€æ›´æ–° | 1. æ¥æ”¶å¤–éƒ¨ç³»ç»ŸçŠ¶æ€æ¨é€<br>2. éªŒè¯æ•°æ®å®Œæ•´æ€§<br>3. æ›´æ–°é‡Œç¨‹ç¢‘çŠ¶æ€<br>4. è§¦å‘é€šçŸ¥æœºåˆ¶ | é‡Œç¨‹ç¢‘çŠ¶æ€å®æ—¶æ›´æ–°ï¼Œç›¸å…³äººå‘˜æ”¶åˆ°é€šçŸ¥ï¼Œè®°å½•æ“ä½œæ—¥å¿— |
| å¼‚å¸¸é¢„è­¦è§¦å‘ | 1. ç›‘æ§é‡Œç¨‹ç¢‘è¿›åº¦<br>2. æ£€æµ‹å»¶è¯¯é£é™©<br>3. è®¡ç®—åå·®ç¨‹åº¦<br>4. å‘é€é¢„è­¦é€šçŸ¥ | åŠæ—¶è¯†åˆ«å¼‚å¸¸æƒ…å†µï¼Œå‘é€åˆ†çº§é¢„è­¦ï¼Œæ¨èå¤„ç†æ–¹æ¡ˆ |
| è·Ÿè¸ªæ€»è§ˆæŸ¥è¯¢ | 1. è¾“å…¥æŸ¥è¯¢æ¡ä»¶<br>2. è·å–é‡Œç¨‹ç¢‘åˆ—è¡¨<br>3. æ˜¾ç¤ºè¿›åº¦çŠ¶æ€<br>4. å±•ç¤ºå…³é”®ä¿¡æ¯ | å‡†ç¡®æ˜¾ç¤ºè´§ç‰©è·Ÿè¸ªçŠ¶æ€ï¼Œè¿›åº¦å¯è§†åŒ–ï¼Œä¿¡æ¯å®Œæ•´å‡†ç¡® |
| é‡Œç¨‹ç¢‘æ¨¡æ¿ç®¡ç† | 1. åˆ›å»ºæ–°æ¨¡æ¿<br>2. é…ç½®èŠ‚ç‚¹ä¿¡æ¯<br>3. è®¾ç½®ä¸šåŠ¡è§„åˆ™<br>4. ä¿å­˜å¹¶åº”ç”¨ | æ¨¡æ¿åˆ›å»ºæˆåŠŸï¼Œå¯å¤ç”¨äºåŒç±»å‹ä¸šåŠ¡ï¼Œæé«˜æ“ä½œæ•ˆç‡ |
| æ‰‹åŠ¨çŠ¶æ€æ›´æ–° | 1. é€‰æ‹©å¾…æ›´æ–°é‡Œç¨‹ç¢‘<br>2. ä¿®æ”¹çŠ¶æ€ä¿¡æ¯<br>3. æ·»åŠ å¤‡æ³¨è¯´æ˜<br>4. æäº¤æ›´æ–° | çŠ¶æ€æ›´æ–°æˆåŠŸï¼Œè®°å½•æ“ä½œäººå‘˜å’Œæ—¶é—´ï¼Œä¿ç•™å®¡è®¡è½¨è¿¹ |
| æ‰¹é‡çŠ¶æ€å¤„ç† | 1. é€‰æ‹©å¤šä¸ªé‡Œç¨‹ç¢‘<br>2. æ‰¹é‡ä¿®æ”¹çŠ¶æ€<br>3. éªŒè¯æ•°æ®ä¸€è‡´æ€§<br>4. æ‰§è¡Œæ‰¹é‡æ›´æ–° | æ‰¹é‡æ“ä½œæˆåŠŸï¼Œç”Ÿæˆå¤„ç†æŠ¥å‘Šï¼Œå¼‚å¸¸æ•°æ®å•ç‹¬æ ‡è®° |
| é‡Œç¨‹ç¢‘å†å²æŸ¥è¯¢ | 1. è¾“å…¥æŸ¥è¯¢æ—¶é—´èŒƒå›´<br>2. é€‰æ‹©æŸ¥è¯¢ç»´åº¦<br>3. æ‰§è¡Œå†å²æŸ¥è¯¢<br>4. å¯¼å‡ºæŸ¥è¯¢ç»“æœ | å‡†ç¡®è¿”å›å†å²æ•°æ®ï¼Œæ”¯æŒå¤šç»´åº¦åˆ†æï¼Œæ•°æ®å¯å¯¼å‡º |
| è·¨ç³»ç»Ÿæ•°æ®åŒæ­¥ | 1. é…ç½®åŒæ­¥è§„åˆ™<br>2. å»ºç«‹æ•°æ®æ˜ å°„<br>3. æ‰§è¡ŒåŒæ­¥ä»»åŠ¡<br>4. éªŒè¯åŒæ­¥ç»“æœ | æ•°æ®åŒæ­¥å‡†ç¡®ï¼Œæ ¼å¼è½¬æ¢æ­£ç¡®ï¼Œå¼‚å¸¸æ•°æ®æœ‰è®°å½• |
| ç§»åŠ¨ç«¯çŠ¶æ€æŸ¥è¯¢ | 1. ç§»åŠ¨ç«¯ç™»å½•ç³»ç»Ÿ<br>2. æ‰«æè´§ç‰©äºŒç»´ç <br>3. æŸ¥çœ‹è·Ÿè¸ªä¿¡æ¯<br>4. æ›´æ–°ç°åœºçŠ¶æ€ | ç§»åŠ¨ç«¯æ˜¾ç¤ºå‡†ç¡®ï¼Œæ“ä½œä¾¿æ·ï¼Œæ”¯æŒç¦»çº¿æŸ¥çœ‹å’Œæ›´æ–° |

### å¼‚å¸¸å¤„ç†æµ‹è¯•

| å¼‚å¸¸åœºæ™¯ | æµ‹è¯•æ–¹æ³• | é¢„æœŸå¤„ç† |
|---------|---------|---------|
| å¿…å¡«å­—æ®µç¼ºå¤± | æäº¤ä¸å®Œæ•´çš„é‡Œç¨‹ç¢‘æ•°æ® | æ˜¾ç¤ºè¯¦ç»†çš„å­—æ®µéªŒè¯é”™è¯¯ä¿¡æ¯ï¼Œé˜»æ­¢æ•°æ®æäº¤ |
| å¤–éƒ¨æ¥å£å¼‚å¸¸ | æ¨¡æ‹Ÿæ‰¿è¿å•†æˆ–GPSç³»ç»Ÿæ•…éšœ | æ˜¾ç¤ºå‹å¥½é”™è¯¯æç¤ºï¼Œå¯ç”¨é‡è¯•æœºåˆ¶ï¼Œè®°å½•å¼‚å¸¸æ—¥å¿— |
| æ•°æ®æ ¼å¼é”™è¯¯ | è¾“å…¥éæ³•çš„æ—¶é—´æˆ–åæ ‡æ ¼å¼ | å®æ—¶éªŒè¯å¹¶æç¤ºæ­£ç¡®æ ¼å¼ï¼Œé˜»æ­¢é”™è¯¯æ•°æ®ä¿å­˜ |
| ç½‘ç»œè¿æ¥ä¸­æ–­ | æ¨¡æ‹Ÿç½‘ç»œæ•…éšœæƒ…å†µ | è‡ªåŠ¨é‡è¿æœºåˆ¶ï¼Œç¼“å­˜æœªæäº¤æ•°æ®ï¼Œæ¢å¤åç»§ç»­å¤„ç† |
| æƒé™ä¸è¶³è®¿é—® | æ— æƒé™ç”¨æˆ·å°è¯•ä¿®æ”¹çŠ¶æ€ | æ˜¾ç¤ºæƒé™ä¸è¶³æç¤ºï¼Œè®°å½•æœªæˆæƒè®¿é—®æ—¥å¿— |
| é‡å¤çŠ¶æ€æ›´æ–° | åŒä¸€é‡Œç¨‹ç¢‘é‡å¤æ›´æ–°ç›¸åŒçŠ¶æ€ | æ£€æµ‹é‡å¤æ“ä½œï¼Œæç¤ºç”¨æˆ·ç¡®è®¤æˆ–å¿½ç•¥é‡å¤æ›´æ–° |
| æ—¶é—´é€»è¾‘é”™è¯¯ | å®é™…æ—¶é—´æ—©äºè®¡åˆ’æ—¶é—´ | éªŒè¯æ—¶é—´é€»è¾‘åˆç†æ€§ï¼Œæç¤ºæ—¶é—´å†²çªï¼Œè¦æ±‚ç¡®è®¤ |
| ç³»ç»Ÿè¶…æ—¶å¤„ç† | é•¿æ—¶é—´æ— å“åº”çš„æ“ä½œ | è®¾ç½®è¶…æ—¶æœºåˆ¶ï¼Œè‡ªåŠ¨è½¬ä¸ºå¼‚æ­¥å¤„ç†æˆ–äººå·¥å¹²é¢„ |
| æ•°æ®åº“è¿æ¥å¤±è´¥ | æ¨¡æ‹Ÿæ•°æ®åº“æ•…éšœ | å¯ç”¨å¤‡ç”¨æ•°æ®æºï¼Œä¿è¯æœåŠ¡å¯ç”¨æ€§ï¼Œè®°å½•æ•…éšœä¿¡æ¯ |
| å¤§æ•°æ®é‡å¤„ç† | å¤„ç†è¶…å¤§æ‰¹é‡é‡Œç¨‹ç¢‘æ•°æ® | åˆ†æ‰¹å¤„ç†æœºåˆ¶ï¼Œæ˜¾ç¤ºå¤„ç†è¿›åº¦ï¼Œé˜²æ­¢ç³»ç»Ÿè¶…è½½ |

### æ€§èƒ½æµ‹è¯•ç”¨ä¾‹

| æµ‹è¯•æŒ‡æ ‡ | æµ‹è¯•æ¡ä»¶ | æ€§èƒ½è¦æ±‚ |
|---------|---------|---------|
| é‡Œç¨‹ç¢‘åˆ›å»ºå“åº”æ—¶é—´ | å¹¶å‘100ç”¨æˆ·åŒæ—¶åˆ›å»ºé‡Œç¨‹ç¢‘ | < 2ç§’ |
| çŠ¶æ€æ›´æ–°å¤„ç†æ—¶é—´ | å¤„ç†1000ä¸ªçŠ¶æ€æ›´æ–°è¯·æ±‚ | < 30ç§’ |
| è·Ÿè¸ªæŸ¥è¯¢å“åº”æ—¶é—´ | æŸ¥è¯¢10ä¸‡æ¡è·Ÿè¸ªè®°å½• | < 3ç§’ |
| æ‰¹é‡å¯¼å…¥æ€§èƒ½ | å¯¼å…¥5000æ¡é‡Œç¨‹ç¢‘æ•°æ® | < 120ç§’ |
| å®æ—¶ç›‘æ§å¤„ç† | åŒæ—¶ç›‘æ§1000ä¸ªè¿è¾“ä»»åŠ¡ | < 5ç§’åˆ·æ–°é—´éš” |
| æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½ | å¤æ‚æ¡ä»¶æŸ¥è¯¢å†å²æ•°æ® | < 2ç§’ |
| æ¥å£è°ƒç”¨æ€§èƒ½ | åŒæ—¶è°ƒç”¨20ä¸ªå¤–éƒ¨ç³»ç»Ÿæ¥å£ | < 10ç§’ |
| ç³»ç»Ÿå¹¶å‘å¤„ç† | 300ç”¨æˆ·åŒæ—¶åœ¨çº¿æ“ä½œ | ç³»ç»Ÿç¨³å®šè¿è¡Œï¼Œå“åº”æ—¶é—´ä¸è¶…è¿‡5ç§’ |
| æ•°æ®åŒæ­¥æ€§èƒ½ | åŒæ­¥5ä¸ªæ‰¿è¿å•†è·Ÿè¸ªæ•°æ® | < 10åˆ†é’Ÿ |
| å†…å­˜ä½¿ç”¨æ•ˆç‡ | é•¿æ—¶é—´è¿è¡Œè·Ÿè¸ªç³»ç»Ÿ | å†…å­˜ä½¿ç”¨ç‡ä¸è¶…è¿‡75%ï¼Œæ— å†…å­˜æ³„æ¼ |

## æ•°æ®æ¨¡å‹è®¾è®¡

### é‡Œç¨‹ç¢‘ä¸»è¡¨
<!-- å­˜å‚¨é‡Œç¨‹ç¢‘åŸºæœ¬ä¿¡æ¯çš„ä¸»è¡¨ï¼ŒåŒ…å«é‡Œç¨‹ç¢‘ä»£ç ã€çŠ¶æ€ã€æ—¶é—´ç­‰æ ¸å¿ƒå­—æ®µ -->
```sql
CREATE TABLE milestones (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,  -- ä¸»é”®ID
    tracking_id VARCHAR(50) NOT NULL COMMENT 'è·Ÿè¸ªID',  -- è·Ÿè¸ªID
    shipment_id BIGINT NOT NULL COMMENT 'è´§ç‰©ID',  -- è´§ç‰©ID
    milestone_code VARCHAR(20) NOT NULL COMMENT 'é‡Œç¨‹ç¢‘ä»£ç ',  -- é‡Œç¨‹ç¢‘ä»£ç 
    milestone_name VARCHAR(100) NOT NULL COMMENT 'é‡Œç¨‹ç¢‘åç§°',  -- é‡Œç¨‹ç¢‘åç§°
    sequence_order INT NOT NULL COMMENT 'é¡ºåºå·',  -- é¡ºåºå·
    status ENUM('pending', 'in_progress', 'completed', 'delayed', 'cancelled') DEFAULT 'pending',  -- çŠ¶æ€
    planned_time DATETIME NOT NULL COMMENT 'è®¡åˆ’æ—¶é—´',  -- è®¡åˆ’æ—¶é—´
    predicted_time DATETIME COMMENT 'é¢„æµ‹æ—¶é—´',  -- é¢„æµ‹æ—¶é—´
    actual_time DATETIME COMMENT 'å®é™…æ—¶é—´',  -- å®é™…æ—¶é—´
    location_code VARCHAR(10) COMMENT 'ä½ç½®ä»£ç ',  -- ä½ç½®ä»£ç 
    location_name VARCHAR(200) COMMENT 'ä½ç½®åç§°',  -- ä½ç½®åç§°
    latitude DECIMAL(10,8) COMMENT 'çº¬åº¦',  -- çº¬åº¦
    longitude DECIMAL(11,8) COMMENT 'ç»åº¦',  -- ç»åº¦
    description TEXT COMMENT 'æè¿°ä¿¡æ¯',  -- æè¿°ä¿¡æ¯
    notes TEXT COMMENT 'å¤‡æ³¨',  -- å¤‡æ³¨
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,  -- åˆ›å»ºæ—¶é—´
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,  -- æ›´æ–°æ—¶é—´
    INDEX idx_tracking_id (tracking_id),
    INDEX idx_shipment_id (shipment_id),
    INDEX idx_status_time (status, planned_time),
    INDEX idx_location (latitude, longitude)
) COMMENT='é‡Œç¨‹ç¢‘ä¸»è¡¨';
```

### è·Ÿè¸ªè®°å½•è¡¨
```sql
CREATE TABLE tracking_records (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,  -- ä¸»é”®ID
    milestone_id BIGINT NOT NULL COMMENT 'é‡Œç¨‹ç¢‘ID',  -- é‡Œç¨‹ç¢‘ID
    record_type ENUM('status_update', 'location_update', 'exception', 'note') NOT NULL,  -- è®°å½•ç±»å‹
    old_status VARCHAR(20) COMMENT 'åŸçŠ¶æ€',  -- åŸçŠ¶æ€
    new_status VARCHAR(20) COMMENT 'æ–°çŠ¶æ€',  -- æ–°çŠ¶æ€
    latitude DECIMAL(10,8) COMMENT 'çº¬åº¦',  -- çº¬åº¦
    longitude DECIMAL(11,8) COMMENT 'ç»åº¦',  -- ç»åº¦
    address VARCHAR(500) COMMENT 'åœ°å€',  -- åœ°å€
    description TEXT COMMENT 'æè¿°',  -- æè¿°
    source VARCHAR(50) COMMENT 'æ•°æ®æ¥æº',  -- æ•°æ®æ¥æº
    operator_id BIGINT COMMENT 'æ“ä½œå‘˜ID',  -- æ“ä½œå‘˜ID
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,  -- åˆ›å»ºæ—¶é—´
    FOREIGN KEY (milestone_id) REFERENCES milestones(id),
    INDEX idx_milestone_time (milestone_id, created_at),
    INDEX idx_record_type (record_type, created_at)
) COMMENT='è·Ÿè¸ªè®°å½•è¡¨';
```

## ç³»ç»Ÿé›†æˆ

### ä¸è´§ä»£æ“ä½œé›†æˆ
- **è‡ªåŠ¨åˆ›å»º**ï¼šè¿å•ç¡®è®¤åè‡ªåŠ¨åˆ›å»ºå¯¹åº”é‡Œç¨‹ç¢‘
- **çŠ¶æ€åŒæ­¥**ï¼šé‡Œç¨‹ç¢‘çŠ¶æ€å˜æ›´å®æ—¶åŒæ­¥åˆ°è¿å•
- **æ•°æ®ä¸€è‡´æ€§**ï¼šç¡®ä¿è·Ÿè¸ªä¿¡æ¯ä¸è¿å•ä¿¡æ¯ä¿æŒä¸€è‡´

### ä¸æ‰¿è¿å•†ç³»ç»Ÿé›†æˆ
- **EDIæ¥å£**ï¼šé€šè¿‡EDIæ ‡å‡†æ¥æ”¶æ‰¿è¿å•†è·Ÿè¸ªæ•°æ®
- **APIå¯¹æ¥**ï¼šæ”¯æŒRESTful APIä¸ç°ä»£åŒ–æ‰¿è¿å•†å¹³å°é›†æˆ
- **æ•°æ®æ ‡å‡†åŒ–**ï¼šç»Ÿä¸€ä¸åŒæ‰¿è¿å•†çš„æ•°æ®æ ¼å¼

### ä¸å®¢æˆ·é—¨æˆ·é›†æˆ
- **å®æ—¶æŸ¥è¯¢**ï¼šå®¢æˆ·å¯å®æ—¶æŸ¥è¯¢è´§ç‰©è·Ÿè¸ªçŠ¶æ€
- **ä¸»åŠ¨æ¨é€**ï¼šé‡è¦é‡Œç¨‹ç¢‘è‡ªåŠ¨æ¨é€ç»™å®¢æˆ·
- **å¯è§†åŒ–å±•ç¤º**ï¼šæä¾›åœ°å›¾å’Œæ—¶é—´çº¿å¯è§†åŒ–ç•Œé¢

## æ€»ç»“

è´§ä»£æ“ä½œä½œä¸ºè´§ä»£ä¸šåŠ¡çš„"ç¥ç»ç³»ç»Ÿ"ï¼Œé€šè¿‡å®æ—¶ç›‘æ§ã€æ™ºèƒ½é¢„æµ‹å’Œä¸»åŠ¨é¢„è­¦ï¼Œä¸ºè´§ç‰©è¿è¾“æä¾›å…¨ç¨‹é€æ˜åŒ–æœåŠ¡ã€‚ç³»ç»Ÿçš„æ ¸å¿ƒä»·å€¼ä½“ç°åœ¨ï¼š

**æ ¸å¿ƒä»·å€¼**ï¼š
- å…¨ç¨‹å¯è§†åŒ–è·Ÿè¸ªï¼Œå®¢æˆ·æ»¡æ„åº¦æå‡40%ä»¥ä¸Š
- è‡ªåŠ¨åŒ–é‡Œç¨‹ç¢‘æ›´æ–°ï¼Œå‡å°‘äººå·¥è·Ÿè¸ªå·¥ä½œ80%
- å®æ—¶å¼‚å¸¸é¢„è­¦ï¼Œé™ä½è´§ç‰©å»¶è¯¯é£é™©30%
- æ•°æ®é©±åŠ¨å†³ç­–ï¼Œä¼˜åŒ–è¿è¾“è·¯çº¿å’Œæ—¶æ•ˆ

**æŠ€æœ¯ç‰¹è‰²**ï¼š
- åŸºäºæœºå™¨å­¦ä¹ çš„æ™ºèƒ½é¢„æµ‹ç®—æ³•
- å¤šæºæ•°æ®èåˆçš„å®æ—¶è·Ÿè¸ªå¹³å°
- æ™ºèƒ½å¼‚å¸¸æ£€æµ‹å’Œé¢„è­¦æœºåˆ¶
- å®Œæ•´çš„é‡Œç¨‹ç¢‘ç”Ÿå‘½å‘¨æœŸç®¡ç†

é€šè¿‡æŒç»­çš„æŠ€æœ¯åˆ›æ–°å’ŒæœåŠ¡ä¼˜åŒ–ï¼Œè´§ä»£æ“ä½œå°†ä¸ºä¼ä¸šæä¾›æ›´åŠ ç²¾å‡†ã€æ™ºèƒ½çš„è·Ÿè¸ªæœåŠ¡ï¼Œåœ¨æ•°å­—åŒ–è½¬å‹ä¸­å‘æŒ¥å…³é”®ä½œç”¨ã€‚

## æ–‡æ¡£ç‰ˆæœ¬

| ç‰ˆæœ¬å· | æ›´æ–°æ—¥æœŸ | æ›´æ–°å†…å®¹ | æ›´æ–°äºº |
|--------|----------|----------|--------|
| 1.0.0  | 2024-03-01 | åˆå§‹ç‰ˆæœ¬ï¼ŒåŒ…å«åŸºç¡€é‡Œç¨‹ç¢‘è·Ÿè¸ªåŠŸèƒ½ | ç³»ç»Ÿæ¶æ„å¸ˆ |
| 1.1.0  | 2024-03-05 | å¢åŠ å®æ—¶çŠ¶æ€æ›´æ–°å’Œå¼‚å¸¸é¢„è­¦åŠŸèƒ½ | äº§å“ç»ç† |
| 1.2.0  | 2024-03-10 | å®Œå–„è·¨ç³»ç»Ÿæ•°æ®é›†æˆå’ŒAPIæ¥å£è®¾è®¡ | æŠ€æœ¯è´Ÿè´£äºº |
| 1.3.0  | 2024-03-15 | è¡¥å……æ™ºèƒ½é¢„æµ‹åˆ†æå’ŒåŒºå—é“¾æº¯æºåŠŸèƒ½ | å¼€å‘å›¢é˜Ÿ |
| 1.4.0  | 2024-03-20 | æ‰©å±•ç§»åŠ¨ç«¯æ”¯æŒå’Œç¦»çº¿åŠŸèƒ½ | äº§å“ç»ç† |
| 2.0.0  | 2024-03-25 | é‡æ„ä¸šåŠ¡æµç¨‹ï¼Œä¼˜åŒ–æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒ | æŠ€æœ¯è´Ÿè´£äºº |
| 2.1.0  | 2024-03-30 | å¢åŠ æµ‹è¯•ç”¨ä¾‹å’Œå®Œå–„æ–‡æ¡£ç»“æ„ | å¼€å‘å›¢é˜Ÿ |

## ç›¸å…³æ–‡æ¡£é“¾æ¥

- [1.1 è®¢å•ç®¡ç†](./1.1%20è®¢å•ç®¡ç†.md) - è®¢å•ä¸é‡Œç¨‹ç¢‘çš„å…³è”ç®¡ç†
- [1.2 ä½œä¸šç®¡ç†](./1.2%20ä½œä¸šç®¡ç†.md) - ä½œä¸šæ‰§è¡Œä¸é‡Œç¨‹ç¢‘è·Ÿè¸ª
- [1.3 è¿å•ç®¡ç†](./1.3%20è¿å•ç®¡ç†.md) - è¿å•çŠ¶æ€ä¸é‡Œç¨‹ç¢‘åŒæ­¥
- [1.4 è®¢èˆ±ç®¡ç†](./1.4%20è®¢èˆ±ç®¡ç†.md) - è®¢èˆ±ç¡®è®¤è§¦å‘é‡Œç¨‹ç¢‘åˆ›å»º

